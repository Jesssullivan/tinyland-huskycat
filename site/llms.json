{
  "metadata": {
    "project": "HuskyCat Documentation",
    "tagline": "Universal Code Validation Platform",
    "version": "6d0ff6a",
    "updated": "2025-12-05 21:52:10 UTC",
    "source_repo": "https://gitlab.com/tinyland/ai/huskycat",
    "docs_url": "https://tinyland.gitlab.io/ai/huskycat",
    "generator": "llms-txt-generator v1.0.0"
  },
  "pages": [
    {
      "title": "Home",
      "path": "/",
      "url": "https://tinyland.gitlab.io/ai/huskycat/",
      "source_file": "docs/index.md",
      "content": "# HuskyCat Universal Code Validation Platform\n\nWelcome to HuskyCat, the **Universal Code Validation Platform** with integrated **MCP (Model Context Protocol) Server** support for seamless Claude Code integration.\n\n## What is HuskyCat?\n\nHuskyCat is a **container-based** validation platform designed for consistent toolchains, repository isolation, and AI integration:\n\n- **Container-Based Execution**: Automatic container detection with toolchain consistency across all environments\n- **Pre-Built Binaries**: Download and run immediately on Linux (AMD64/ARM64) and macOS (Apple Silicon)\n- **Repository Safety**: Validation tools run in isolation from your actual repository\n- **MCP Server Integration**: stdio-based server for seamless Claude Code integration\n- **Git Hooks**: Fast validation with automatic container orchestration\n- **Universal Validation**: Python, JavaScript, YAML, Shell, Docker, security scanning\n- **Auto-Fix Support**: Interactive auto-repair of validation issues\n\n## Quick Start\n\n### Option 1: Pre-Built Binary (Fastest)\n\n```bash\n# Download for your platform (Linux AMD64 example)\ncurl -L -o ~/.local/bin/huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\nchmod +x ~/.local/bin/huskycat\n\n# Install container runtime (required)\nbrew install podman  # macOS\n# or: sudo dnf install podman  # Rocky Linux\n\n# Verify installation\nhuskycat --version\nhuskycat status\n```\n\nSee **[Binary Downloads](binary-downloads.md)** for all platforms and detailed instructions.\n\n### Option 2: Build from Source\n\n```bash\n# Clone repository\ngit clone https://gitlab.com/tinyland/ai/huskycat.git\ncd huskycat\n\n# Install dependencies\nnpm install\nuv sync --dev\n\n# Build binary\nnpm run build:binary\n\n# Verify\n./dist/huskycat --version\n```\n\n## Key Features\n\n### \ud83d\udc33 **Container-Based Execution**\n- Automatic detection: containers on host, direct execution in CI\n- Consistent toolchain across all environments\n- Complete isolation from host repository\n- No \"tool not found\" errors - ever\n\n### \ud83d\udd12 **Repository Safety & Isolation**\n- Binary configs stored separately from repository\n- Validation tools cannot interfere with actual files\n- Read-only repository mounting for security\n\n### \ud83e\udd16 **AI Integration via MCP**\n- stdio-based MCP server for Claude Code\n- Container-backed validation tools as AI-callable functions\n- Real-time code quality feedback with full toolchain\n\n### \ud83d\udd04 **Universal Validation with Auto-Fix**\n- **Core Tools**: Black, Flake8, MyPy, Ruff\n- **Extended Tools**: yamllint, shellcheck, hadolint, eslint\n- **Security**: bandit, safety, dependency scanning\n- **GitLab CI**: Schema validation and pipeline testing\n- **Auto-Fix**: Interactive prompts for automatic issue resolution\n\n## Architecture\n\nHuskyCat uses container-based execution with automatic environment detection:\n\n```mermaid\ngraph LR\n    A[\"\ud83d\ude80 Binary Entry Point\"] --> B[\"Container Runtime\"]\n    C[\"\ud83d\udee0\ufe0f NPM Scripts\"] --> B\n    D[\"\ud83e\udd16 MCP Server\"] --> B\n    \n    B --> E[\"\ud83d\udc33 Container Execution\"]\n    E --> F[\"Complete Toolchain\"]\n    E --> G[\"Repository Isolation\"] \n    E --> H[\"Consistent Environment\"]\n    \n    style B fill:#f3e5f5\n    style E fill:#e8f5e8\n    style F fill:#fff3e0\n```\n\n## Getting Started\n\nChoose your installation method:\n\nAll execution modes use **container-only validation** for consistency:\n\n=== \"\ud83d\ude80 Binary Entry Point (Recommended)\"\n\n    ```bash\n    ./dist/huskycat [command]            # Fast startup, container execution\n    ```\n    **Best for**: Git hooks, CI/CD, production deployments\n\n=== \"\ud83d\udee0\ufe0f NPM Script Development\"\n\n    ```bash\n    npm run dev -- [command]            # Python module via NPM\n    ```\n    **Best for**: Development, testing, convenience\n\n=== \"\ud83e\udd16 MCP Server Mode\"\n\n    ```bash\n    ./dist/huskycat mcp-server           # stdio JSON-RPC server\n    ```\n    **Best for**: Claude Code integration, AI-powered validation\n\n**All modes provide**: Complete toolchain (Python + Node.js + Shell + Docker + Security) via container execution\n\n## Usage Examples\n\n### Core Operations\n```bash\n# Fast binary execution (git hooks, production)\n./dist/huskycat validate --staged    # Validate staged files\n./dist/huskycat setup-hooks          # Install git hooks\n./dist/huskycat ci-validate .gitlab-ci.yml\n\n# Auto-fix validation (NEW)\n./dist/huskycat validate --fix       # Auto-fix validation issues\ngit addf <files>                     # Interactive auto-fix before staging\ngit addf .                          # Validate and auto-fix all files\n\n# Development mode (NPM scripts)\nnpm run validate                     # Quick validation\nnpm run validate:ci                  # CI configuration\nnpm run mcp:server                   # Start MCP server\n\n# Container mode (comprehensive)\nnpm run container:test:validate      # Full toolchain\n```\n\n### Claude Code Integration\n```bash\n# Start MCP server (stdio protocol)\n./dist/huskycat mcp-server\n\n# Test connection\necho '{\"jsonrpc\": \"2.0\", \"method\": \"tools/list\", \"id\": 1}' | npm run mcp:server\n```\n\n## Next Steps\n\n### Getting Started\n- **[Binary Downloads](binary-downloads.md)** - Download pre-built binaries (recommended)\n- **[Installation Guide](installation.md)** - Build from source and setup\n- **[CLI Reference](cli-reference.md)** - Complete command reference\n\n### Integration\n- **[GitLab CI/CD](gitlab-ci-cd.md)** - GitLab pipeline integration\n- **[GitHub Actions](github-actions.md)** - GitHub workflow integration\n- **[MCP Server](features/mcp-server.md)** - Claude Code integration\n\n### Reference\n- **[Configuration](configuration.md)** - Customize validation rules\n- **[MCP Tools API](api/mcp-tools.md)** - MCP server tools reference\n- **[Troubleshooting](troubleshooting.md)** - Common issues and solutions\n\n## For AI Agents & LLMs\n\nHuskyCat documentation is available in LLM-friendly formats for easy ingestion by AI agents:\n\n- **llms.txt**: [https://tinyland.gitlab.io/ai/huskycat/llms.txt](https://tinyland.gitlab.io/ai/huskycat/llms.txt) - Plain text format\n- **llms.json**: [https://tinyland.gitlab.io/ai/huskycat/llms.json](https://tinyland.gitlab.io/ai/huskycat/llms.json) - Structured JSON\n- **llms-full.md**: [https://tinyland.gitlab.io/ai/huskycat/llms-full.md](https://tinyland.gitlab.io/ai/huskycat/llms-full.md) - Single markdown file\n\nThese files are automatically generated from the documentation source and updated with every commit to main.\n\n## Support\n\n- **Documentation**: [https://huskycat.pages.io](https://huskycat.pages.io)\n- **Issues**: [GitLab Issues](https://gitlab.com/tinyland/ai/huskycat/-/issues)\n- **Discussions**: [GitLab Discussions](https://gitlab.com/tinyland/ai/huskycat/-/issues)\n\n---\n\n**HuskyCat** - Making code validation universal, fast, and intelligent.",
      "word_count": 781
    },
    {
      "title": "Installation",
      "path": "/installation/",
      "url": "https://tinyland.gitlab.io/ai/huskycat/installation/",
      "source_file": "docs/installation.md",
      "content": "# Installation Guide\n\nThis guide covers installing HuskyCat locally and in development projects.\n\n## \ud83d\ude80 Quick Start: Pre-Built Binaries (Recommended)\n\nThe fastest way to get started is using pre-built binaries from GitLab releases.\n\n### Download and Install\n\n**Linux (AMD64):**\n```bash\ncurl -L -o ~/.local/bin/huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\nchmod +x ~/.local/bin/huskycat\n```\n\n**Linux (ARM64):**\n```bash\ncurl -L -o ~/.local/bin/huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-arm64\nchmod +x ~/.local/bin/huskycat\n```\n\n**macOS (Apple Silicon):**\n```bash\nmkdir -p ~/.local/bin\ncurl -L -o ~/.local/bin/huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-darwin-arm64\nchmod +x ~/.local/bin/huskycat\n```\n\n### Verify Installation\n\n```bash\nhuskycat --version\nhuskycat status\n```\n\nFor detailed download instructions, platform-specific notes, and troubleshooting, see **[Binary Downloads Guide](binary-downloads.md)**.\n\n---\n\n## Prerequisites\n\n- **Container Runtime**: Podman or Docker (required for all validation)\n- **Python 3.8+**: For binary build and NPM mode\n- **UV Package Manager**: `pip install uv`\n- **Node.js and npm**: Build system\n- **Git Repository**: Required for hooks and staged file validation\n\n## Alternative: Build from Source\n\nFor development or platforms without pre-built binaries:\n\n### Build from Source\n\n```bash\n# Clone and build HuskyCat\ngit clone <repository>\ncd huskycats-bates\nnpm install\n\n# Install Python dependencies\nuv sync --dev\n\n# Build container (required for all validation)\nnpm run container:build\n\n# Build binary entry point\nnpm run build:binary\n\n# Verify installation\n./dist/huskycat --version\n./dist/huskycat status\n```\n\n### Development Mode\n\n```bash\n# For active development on HuskyCat itself\nnpm run dev -- --help             # Show available commands\nnpm run validate                   # Validate current directory\nnpm run hooks:install              # Setup git hooks\nnpm run mcp:server                 # Start MCP server\n```\n\n## Using HuskyCat in Your Projects\n\n### 1. Setup Git Hooks\n\n```bash\n# Navigate to your project\ncd your-project\n\n# Setup HuskyCat git hooks\n./path/to/huskycat setup-hooks\n\n# Test the installation\ngit add .\ngit commit -m \"test: verify hooks\"  # Should run validation\n```\n\n### 2. Validate Code\n\n```bash\n# Validate current directory\n./path/to/huskycat validate\n\n# Validate specific files\n./path/to/huskycat validate src/main.py\n\n# Validate all files\n./path/to/huskycat validate --all\n\n# Validate only staged files\n./path/to/huskycat validate --staged\n```\n\n## MCP Server Integration\n\n### Setup MCP for Claude Code\n\n```bash\n# Start MCP server for Claude Code integration (stdio mode)\n./path/to/huskycat mcp-server\n\n# Or use the bootstrap command for automatic setup\n./path/to/huskycat bootstrap\n```\n\n### Claude Code Configuration\n\nAdd to your Claude Code MCP configuration file:\n\n```json\n{\n  \"mcpServers\": {\n    \"huskycat\": {\n      \"command\": \"/path/to/huskycat\",\n      \"args\": [\"mcp-server\"]\n    }\n  }\n}\n```\n\n**Note**: HuskyCat MCP server uses stdio protocol only (stdin/stdout). No ports are needed.\n\n### Bootstrap Command\n\nThe `bootstrap` command automates MCP configuration setup:\n\n```bash\n# Automatically configure Claude Code MCP integration\n./dist/huskycat bootstrap\n\n# Force overwrite existing configuration\n./dist/huskycat bootstrap --force\n```\n\nThis command:\n1. Creates MCP configuration file with HuskyCat server\n2. Configures the correct binary path\n3. Sets up stdio transport\n\n## Container-Based Execution\n\nHuskyCat uses containers for all validation to ensure consistency and isolation. The execution mode is automatically detected:\n\n### Automatic Container Detection\n\n**On Host Machine:**\n- Requires Podman or Docker installed\n- Commands automatically wrapped in container execution\n- Tools run in isolated environment\n\n**Inside Container (CI/CD):**\n- Detects container environment automatically\n- Runs tools directly (no nested containers)\n- Optimized for pipeline performance\n\n### Setup\n\n```bash\n# Build validation container (required for host execution)\nnpm run container:build\n\n# Test container works\nnpm run container:test\n\n# All validation commands use appropriate execution mode\n./dist/huskycat validate --all    # Auto-detects: container or direct\nnpm run validate                  # Auto-detects: container or direct\n```\n\n### Container Detection\n\nHuskyCat automatically detects if it's running inside a container by checking:\n- `/.dockerenv` file (Docker)\n- `container` environment variable (Podman)\n- `/run/.containerenv` file (Podman)\n\nIf no container runtime is detected on the host, HuskyCat will show an error and installation instructions for Podman or Docker.\n\n## What Gets Configured\n\nHuskyCat setup creates:\n\n```\nyour-project/\n\u251c\u2500\u2500 .git/hooks/               # Git hooks installed by setup-hooks\n\u2502   \u251c\u2500\u2500 pre-commit           # Validates staged files\n\u2502   \u251c\u2500\u2500 pre-push             # Validates CI configuration  \n\u2502   \u2514\u2500\u2500 commit-msg           # Validates commit message format\n\u251c\u2500\u2500 .huskycat/               # Configuration and cache\n\u2502   \u251c\u2500\u2500 config.json         # HuskyCat configuration\n\u2502   \u2514\u2500\u2500 schemas/            # Downloaded validation schemas\n\u2514\u2500\u2500 (existing project files remain unchanged)\n```\n\n## Post-Installation\n\n### Verify Installation\n\n```bash\n# Check HuskyCat status\n./dist/huskycat status\n\n# Test validation\n./dist/huskycat validate --all\n\n# Verify git hooks are working\ngit add .\ngit commit -m \"test: verify hooks\"  # Should run validation\n\n# Update validation schemas\n./dist/huskycat update-schemas\n```\n\n### Using HuskyCat Commands\n\nAfter installation, you can use these commands:\n\n```bash\n# Validate code\n./dist/huskycat validate                    # Validate current directory\n./dist/huskycat validate --staged          # Validate staged files\n./dist/huskycat validate src/main.py       # Validate specific file\n\n# CI/CD validation  \n./dist/huskycat ci-validate .gitlab-ci.yml # Validate GitLab CI\n\n# MCP integration\n./dist/huskycat mcp-server                  # Start MCP server\n\n# Management\n./dist/huskycat clean                       # Clean cache\n./dist/huskycat update-schemas              # Update schemas\n./dist/huskycat status                      # Show status\n```\n\n## Development Configuration\n\n### Configure Your IDE\n\n#### VS Code\nAdd to `.vscode/settings.json`:\n```json\n{\n  \"editor.formatOnSave\": true,\n  \"python.formatting.provider\": \"black\",\n  \"python.linting.enabled\": true,\n  \"python.linting.flake8Enabled\": true,\n  \"[python]\": {\n    \"editor.codeActionsOnSave\": {\n      \"source.organizeImports\": true\n    }\n  }\n}\n```\n\n#### PyCharm\n1. Go to Settings \u2192 Tools \u2192 File Watchers\n2. Add watchers for Black and flake8\n3. Enable \"Reformat on Save\"\n\n### Update package.json Scripts\n\nAdd these helpful scripts:\n```json\n{\n  \"scripts\": {\n    \"lint\": \"./scripts/comprehensive-lint.sh --all\",\n    \"lint:fix\": \"./scripts/comprehensive-lint.sh --all --fix\",\n    \"lint:staged\": \"./scripts/comprehensive-lint.sh --staged\",\n    \"prepare\": \"husky install\"\n  }\n}\n```\n\n## Troubleshooting\n\n### Architecture Issues\n\n1. **\"exec format error\" when running Docker**\n   ```bash\n   # This means architecture mismatch. Use the platform flag:\n   docker run --rm --platform linux/amd64 -v \"$(pwd):/workspace\" \\\n     registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n\n   # Or build the container locally:\n   npm run container:build\n   ```\n\n2. **Check your system architecture**\n   ```bash\n   # See what architecture you're running\n   uname -m\n   # x86_64 = use linux/amd64\n   # arm64 or aarch64 = use linux/arm64\n   \n   # Check Docker image architecture\n   docker inspect registry.gitlab.com/tinyland/ai/huskycat/validator:latest | grep Architecture\n   ```\n\n### Common Issues\n\n1. **\"command not found\" errors**\n   - Ensure tools are installed and in PATH\n   - Try using full paths in scripts\n\n2. **Permission denied**\n   - Make scripts executable: `chmod +x <script>`\n   - Check file permissions\n\n3. **Python tools not found**\n   - Activate virtual environment\n   - Install missing tools with pip\n\n4. **Husky hooks not running**\n   - Run `npx husky install`\n   - Check Git version (needs 2.9+)\n   - Ensure core.hooksPath is not set\n\nFor additional support, see our [GitLab Issues](https://gitlab.com/tinyland/ai/huskycat/-/issues) page.",
      "word_count": 1035
    },
    {
      "title": "Binary Downloads",
      "path": "/binary-downloads/",
      "url": "https://tinyland.gitlab.io/ai/huskycat/binary-downloads/",
      "source_file": "docs/binary-downloads.md",
      "content": "# Binary Downloads\n\nHuskyCat provides pre-built binaries for multiple platforms through GitLab releases.\n\n## Quick Install\n\n### Linux (AMD64)\n\n```bash\n# Download latest release\ncurl -L -o huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n\n# Make executable\nchmod +x huskycat\n\n# Install to system path (optional)\nsudo mv huskycat /usr/local/bin/\n```\n\n### Linux (ARM64)\n\n```bash\n# Download latest release\ncurl -L -o huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-arm64\n\n# Make executable\nchmod +x huskycat\n\n# Install to system path (optional)\nsudo mv huskycat /usr/local/bin/\n```\n\n### macOS (Apple Silicon)\n\n```bash\n# Download latest release (ad-hoc signed)\ncurl -L -o huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-darwin-arm64\n\n# Make executable\nchmod +x huskycat\n\n# Install to user path (recommended for unsigned binaries)\nmv huskycat ~/.local/bin/\n\n# Add to PATH if needed\necho 'export PATH=\"$HOME/.local/bin:$PATH\"' >> ~/.zshrc\nsource ~/.zshrc\n```\n\n**Note**: macOS binaries are ad-hoc signed. You may need to allow execution in System Settings > Privacy & Security on first run.\n\n## Available Binaries\n\n| Platform | Architecture | Binary Name | Status |\n|----------|-------------|-------------|---------|\n| Linux | x86_64 | `huskycat-linux-amd64` | \u2705 Rocky Linux 10 |\n| Linux | ARM64/aarch64 | `huskycat-linux-arm64` | \u2705 Rocky Linux 10 |\n| macOS | Apple Silicon (M1/M2/M3) | `huskycat-darwin-arm64` | \u2705 Ad-hoc signed |\n| macOS | Intel (x86_64) | \u274c Not available | GitLab SaaS ARM64 only |\n\n## Download Options\n\n### Option 1: Latest Release (Recommended)\n\nUse GitLab's permalink to always get the latest version:\n\n```bash\n# Linux AMD64\nhttps://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n\n# Linux ARM64\nhttps://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-arm64\n\n# macOS ARM64\nhttps://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-darwin-arm64\n```\n\n### Option 2: Specific Version\n\nDownload a specific tagged release:\n\n```bash\n# Replace $VERSION with desired tag (e.g., v2.0.0)\nhttps://gitlab.com/tinyland/ai/huskycat/-/jobs/artifacts/$VERSION/raw/dist/bin/huskycat-linux-amd64?job=binary:build:linux\n```\n\n### Option 3: Browse All Releases\n\nVisit the releases page to see all available versions:\n\n[https://gitlab.com/tinyland/ai/huskycat/-/releases](https://gitlab.com/tinyland/ai/huskycat/-/releases)\n\n## Verification\n\n### Check Version\n\n```bash\n./huskycat --version\n```\n\n### Verify Installation\n\n```bash\n# Show system status\n./huskycat status\n\n# Test validation\n./huskycat validate --help\n```\n\n### Container Requirements\n\nHuskyCat requires a container runtime for validation:\n\n```bash\n# Check for Podman\npodman --version\n\n# Or check for Docker\ndocker --version\n```\n\nIf neither is installed, see [Container Runtime Installation](#container-runtime-installation).\n\n## Installation Methods\n\n### Method 1: User Installation (Recommended)\n\nInstall to `~/.local/bin` (no sudo required):\n\n```bash\n# Create directory if it doesn't exist\nmkdir -p ~/.local/bin\n\n# Download and install\ncurl -L -o ~/.local/bin/huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\nchmod +x ~/.local/bin/huskycat\n\n# Add to PATH (if not already)\necho 'export PATH=\"$HOME/.local/bin:$PATH\"' >> ~/.bashrc\nsource ~/.bashrc\n```\n\n### Method 2: System-Wide Installation\n\nInstall to `/usr/local/bin` (requires sudo):\n\n```bash\n# Download\ncurl -L -o /tmp/huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n\n# Install\nsudo install -m 0755 /tmp/huskycat /usr/local/bin/huskycat\nrm /tmp/huskycat\n```\n\n### Method 3: Project-Local Installation\n\nInstall in your project directory:\n\n```bash\n# Download to project\ncurl -L -o huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\nchmod +x huskycat\n\n# Use relative path\n./huskycat setup-hooks\n./huskycat validate\n```\n\n## Container Runtime Installation\n\nHuskyCat requires either Podman or Docker for validation.\n\n### Podman (Recommended)\n\n#### macOS\n\n```bash\n# Using Homebrew\nbrew install podman\n\n# Start Podman machine\npodman machine init\npodman machine start\n```\n\n#### Linux\n\n```bash\n# Ubuntu/Debian\nsudo apt-get update\nsudo apt-get install -y podman\n\n# Fedora/Rocky/RHEL\nsudo dnf install -y podman\n\n# Arch\nsudo pacman -S podman\n```\n\n### Docker\n\n#### macOS\n\nDownload Docker Desktop from [https://www.docker.com/products/docker-desktop](https://www.docker.com/products/docker-desktop)\n\n#### Linux\n\n```bash\n# Ubuntu/Debian\ncurl -fsSL https://get.docker.com -o get-docker.sh\nsudo sh get-docker.sh\n\n# Add user to docker group (optional)\nsudo usermod -aG docker $USER\nnewgrp docker\n```\n\n## Post-Installation\n\n### 1. Setup Git Hooks\n\n```bash\n# Navigate to your project\ncd your-project\n\n# Install HuskyCat git hooks\nhuskycat setup-hooks\n```\n\n### 2. Configure MCP (Optional)\n\nFor Claude Code integration:\n\n```bash\nhuskycat bootstrap\n```\n\nSee [MCP Server Integration](features/mcp-server.md) for details.\n\n### 3. Build Container (First Run)\n\n```bash\n# Build validation container\ncd /path/to/huskycats-bates\nnpm run container:build\n```\n\n**Note**: This step is only needed if you're developing HuskyCat itself. For normal usage, the binary will use pre-built container images.\n\n## Troubleshooting\n\n### \"Permission denied\" on macOS\n\nmacOS Gatekeeper may block unsigned binaries:\n\n```bash\n# Allow execution\nxattr -d com.apple.quarantine ~/.local/bin/huskycat\n\n# Or: System Settings > Privacy & Security > Allow \"huskycat\"\n```\n\n### \"No container runtime available\"\n\nInstall Podman or Docker:\n\n```bash\n# Check if installed\nwhich podman || which docker\n\n# Install Podman (recommended)\nbrew install podman  # macOS\nsudo dnf install podman  # Rocky Linux\n```\n\n### Binary not found after installation\n\nCheck PATH:\n\n```bash\n# Verify binary location\nls -l ~/.local/bin/huskycat\n\n# Check if directory is in PATH\necho $PATH | grep -q \"$HOME/.local/bin\" && echo \"\u2713 In PATH\" || echo \"\u2717 Not in PATH\"\n\n# Add to PATH\necho 'export PATH=\"$HOME/.local/bin:$PATH\"' >> ~/.bashrc\nsource ~/.bashrc\n```\n\n### Architecture mismatch\n\nEnsure you downloaded the correct binary for your platform:\n\n```bash\n# Check your architecture\nuname -m\n# x86_64 \u2192 Use huskycat-linux-amd64\n# aarch64 or arm64 \u2192 Use huskycat-linux-arm64 or huskycat-darwin-arm64\n\n# Check binary architecture\nfile huskycat\n```\n\n## Updating\n\n### Manual Update\n\n```bash\n# Download new version\ncurl -L -o /tmp/huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n\n# Replace existing binary\nchmod +x /tmp/huskycat\nmv /tmp/huskycat ~/.local/bin/huskycat\n\n# Verify new version\nhuskycat --version\n```\n\n### Update Script\n\nCreate an update script:\n\n```bash\n#!/usr/bin/env bash\n# update-huskycat.sh\n\nset -euo pipefail\n\nPLATFORM=\"linux-amd64\"  # Change to your platform\nINSTALL_DIR=\"$HOME/.local/bin\"\nBINARY_URL=\"https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-${PLATFORM}\"\n\necho \"Downloading HuskyCat for ${PLATFORM}...\"\ncurl -L -o /tmp/huskycat \"$BINARY_URL\"\n\necho \"Installing to ${INSTALL_DIR}...\"\nchmod +x /tmp/huskycat\nmv /tmp/huskycat \"${INSTALL_DIR}/huskycat\"\n\necho \"\u2713 HuskyCat updated successfully!\"\nhuskycat --version\n```\n\n```bash\n# Make executable and run\nchmod +x update-huskycat.sh\n./update-huskycat.sh\n```\n\n## Alternative: Build from Source\n\nIf binaries aren't available for your platform, build from source:\n\n```bash\ngit clone https://gitlab.com/tinyland/ai/huskycat.git\ncd huskycat\nnpm install\nuv sync --dev\nnpm run build:binary\n\n# Binary will be at: dist/huskycat\n```\n\nSee [Installation Guide](installation.md) for detailed build instructions.\n\n---\n\nFor additional support, see [Troubleshooting](troubleshooting.md) or visit our [GitLab Issues](https://gitlab.com/tinyland/ai/huskycat/-/issues).\n",
      "word_count": 942
    },
    {
      "title": "Configuration",
      "path": "/configuration/",
      "url": "https://tinyland.gitlab.io/ai/huskycat/configuration/",
      "source_file": "docs/configuration.md",
      "content": "# Configuration Reference\n\nThis document details all configuration options for HuskyCat's container-only validation platform.\n\n## Linting Configuration Files\n\n### `.ansible-lint`\n\nAnsible-lint configuration with production-grade settings:\n\n```yaml\n# Profile settings\nprofile: production  # Enforces strict rules\n\n# Paths to exclude\nexclude_paths:\n  - .cache/\n  - node_modules/\n  - vendor/\n\n# Behavior\nprogressive: true   # Return non-zero on warnings\nstrict: true       # Enable strict mode\n\n# Rule configuration\nenable_list:       # Explicitly enabled rules\n  - args\n  - command-instead-of-module\n  - fqcn\n  - no-log-password\n  # ... more rules\n\nskip_list:         # Rules to skip\n  - experimental   # Skip experimental rules\n```\n\n### `pyproject.toml`\n\nPython tooling configuration:\n\n```toml\n[tool.black]\nline-length = 88              # Line length limit\ntarget-version = ['py38']     # Python versions\nextend-exclude = '''          # Paths to exclude\n  /(\n    \\.git\n    | node_modules\n    | vendor\n  )/\n'''\n\n[tool.isort]\nprofile = \"black\"             # Compatible with Black\nline_length = 88\n\n[tool.mypy]\npython_version = \"3.8\"\nwarn_return_any = true\ndisallow_untyped_defs = true\n\n[tool.ruff]\nselect = [\"E\", \"F\", \"I\", ...]  # Rule sets to enable\nline-length = 88\ntarget-version = \"py38\"\n```\n\n### `.flake8`\n\nFlake8 configuration:\n\n```ini\n[flake8]\nmax-line-length = 88\nextend-ignore = E203, W503, E501  # Black compatibility\nexclude = \n    .git,\n    __pycache__,\n    node_modules,\n    vendor\nper-file-ignores = \n    __init__.py:F401              # Allow unused imports\n    test_*.py:F401,F811           # Test-specific ignores\n```\n\n### `.lintstagedrc.json`\n\nFile-specific linting rules:\n\n```json\n{\n  \"*.{ts,tsx,js,jsx}\": [\n    \"eslint --fix\",\n    \"prettier --write\"\n  ],\n  \"*.py\": [\n    \"black\",\n    \"flake8\"\n  ],\n  \"*.{yml,yaml}\": [\n    \"prettier --write\",\n    \"ansible-lint check (conditional)\"\n  ]\n}\n```\n\n## Script Configuration\n\n### HuskyCat Container Configuration\n\n**Container-Only Execution**: All validation runs in containers with complete toolchains.\n\nEnvironment variables:\n```bash\n# Container configuration\nHUSKYCAT_CONTAINER_RUNTIME=podman  # or docker\nHUSKYCAT_LOG_LEVEL=INFO            # DEBUG, INFO, WARNING, ERROR\nHUSKYCAT_CONFIG_DIR=~/.huskycat    # Config storage location\n\n# Validation behavior\nHUSKYCAT_AUTO_FIX=false            # Enable auto-fix by default\nHUSKYCAT_USE_CACHE=true            # Enable validation caching\n```\n\nCommand-line options:\n```bash\n--fix          # Enable auto-fix\n--all          # Validate all files\n--staged       # Validate only staged files (default)\n--verbose, -v  # Verbose output\n--mode MODE    # Override auto-detected product mode\n--json         # Force JSON output (sets pipeline mode)\n```\n\n## Product Modes\n\nHuskyCat operates in 5 distinct product modes, each optimized for different use cases:\n\n### Mode Overview\n\n| Mode | Output Format | Interactive | Auto-Fix | Tools | Use Case |\n|------|--------------|-------------|----------|-------|----------|\n| `git_hooks` | Minimal | No | SAFE only | Fast subset | Pre-commit/pre-push |\n| `ci` | JUnit XML | No | Never | All | Pipeline integration |\n| `cli` | Human/Colored | Yes | SAFE+LIKELY | Configured | Interactive terminal |\n| `pipeline` | JSON | No | Never | All | Machine-readable |\n| `mcp` | JSON-RPC | No | Never | All | AI assistant integration |\n\n### Mode Detection\n\nHuskyCat automatically detects the appropriate mode:\n\n1. **Explicit override**: `--mode git_hooks` or `HUSKYCAT_MODE=ci`\n2. **MCP invocation**: `mcp-server` command\n3. **CI environment**: `CI=true`, `GITLAB_CI`, `GITHUB_ACTIONS`\n4. **Git hooks**: Multiple `GIT_*` environment variables\n5. **Pipeline context**: Non-interactive stdin\n6. **Default**: CLI mode (interactive terminal)\n\n### Mode-Specific Behavior\n\n#### Git Hooks Mode (`--mode git_hooks`)\n- **Output**: Minimal (errors only)\n- **Fail-fast**: Yes (stop on first error)\n- **Tools**: Fast subset (`python-black`, `ruff`, `mypy`, `flake8`)\n- **Auto-fix**: Only SAFE fixes (formatting)\n\n#### CI Mode (`--mode ci`)\n- **Output**: JUnit XML for CI artifacts\n- **Fail-fast**: No (run all validators)\n- **Tools**: All available\n- **Auto-fix**: Never (read-only)\n\n#### CLI Mode (`--mode cli`)\n- **Output**: Human-readable with colors\n- **Interactive**: Yes (prompts for uncertain fixes)\n- **Tools**: Configured via `.huskycat.yaml`\n- **Auto-fix**: SAFE and LIKELY fixes\n\n#### Pipeline Mode (`--mode pipeline` or `--json`)\n- **Output**: JSON for toolchain integration\n- **Interactive**: No\n- **Tools**: All available\n- **Auto-fix**: Never (read-only)\n\n#### MCP Mode (`--mode mcp`)\n- **Output**: JSON-RPC 2.0\n- **Transport**: stdio (stdin/stdout)\n- **Tools**: All available via MCP tools\n- **Auto-fix**: Never (Claude decides)\n\n### Auto-Fix Confidence Tiers\n\nHuskyCat uses a three-tier confidence system for auto-fix decisions:\n\n| Tier | Behavior | Example Tools |\n|------|----------|---------------|\n| **SAFE** | Always safe, formatting only | `python-black`, `js-prettier`, `yamllint` |\n| **LIKELY** | Usually safe, style fixes | `autoflake`, `ruff`, `js-eslint` |\n| **UNCERTAIN** | Needs human review | Semantic changes |\n\n**Mode-specific auto-fix behavior**:\n- **Git Hooks**: Only apply SAFE fixes automatically\n- **CLI**: Apply SAFE and LIKELY; prompt for UNCERTAIN\n- **CI/Pipeline/MCP**: Never auto-fix (report only)\n\n**File references**:\n- Mode detection: `src/huskycat/core/mode_detector.py`\n- Adapters: `src/huskycat/core/adapters/*.py`\n- FixConfidence: `src/huskycat/core/adapters/base.py:27-51`\n\n### Git Hook Configuration\n\n#### Pre-commit Hook\n\nContainer-only validation runs:\n1. Staged file validation\n2. Auto-fix when requested\n3. Complete toolchain in isolated container\n4. Repository read-only mounting\n\n**Generated by**: `./dist/huskycat setup-hooks` (do not edit manually)\n\nCustomization:\n```bash\n# Temporary bypass (development only)\ngit commit --no-verify -m \"message\"\n```\n\n#### Commit-msg Hook\n\nValidates commit format:\n```\n<type>(<scope>): <subject>\n\nTypes: feat, fix, docs, style, refactor, perf, test, build, ci, chore, revert\n```\n\nConfiguration:\n```bash\n# Skip issue check\nSKIP_ISSUE_CHECK=true git commit\n```\n\n#### Pre-push Hook\n\nRuns before push:\n- Full linting (all files)\n- Affected tests\n- Large file detection\n- Security scanning\n\n#### Post-merge Hook\n\nAutomatic actions after merge:\n- Update dependencies\n- Run linting on changed files\n- Rebuild affected projects\n\n## GitLab CI Configuration\n\n### Basic Structure\n\n```yaml\nstages:\n  - validate\n  - lint\n  - test\n\nvariables:\n  PIP_CACHE_DIR: \"$CI_PROJECT_DIR/.cache/pip\"\n  npm_config_cache: \"$CI_PROJECT_DIR/.cache/npm\"\n\ncache:\n  paths:\n    - .cache/pip\n    - .cache/npm\n    - node_modules/\n    - .venv/\n```\n\n### Job Templates\n\nPython linting job:\n```yaml\nlint:python:\n  stage: lint\n  image: python:3.11\n  before_script:\n    - pip install black flake8 mypy\n  script:\n    - black --check .\n    - flake8 .\n    - mypy .\n```\n\n## Container Toolchain\n\n### Available Tools in Container\n\n**Python Tools**:\n- black, flake8, mypy, ruff\n- bandit, safety (security)\n- autoflake, isort (formatting)\n\n**Shell Tools**:\n- shellcheck, yamllint, hadolint\n- gitlab-ci-local (CI validation)\n\n**JavaScript Tools**:\n- eslint, prettier\n\n**All tools** are pre-installed in the container - no local installation needed.\n\n### Adding Custom Validators\n\nExtend the ValidationEngine in `unified_validation.py`:\n```python\nclass CustomValidator(Validator):\n    def can_handle(self, file_path: Path) -> bool:\n        return file_path.suffix == '.custom'\n    \n    def validate(self, file_path: Path) -> ValidationResult:\n        # Container execution is automatic\n        return self._execute_command(['custom-tool', str(file_path)])\n```\n\n### Disabling Specific Checks\n\nPer-file basis:\n```python\n# flake8: noqa\n# mypy: ignore-errors\n# pylint: disable=all\n```\n\nProject-wide:\n- Update respective config files\n- Modify `skip_list` or `ignore` sections\n\n### Performance & Caching\n\nContainer execution optimizations:\n\n1. **Binary-first execution**: Fast startup (~100ms)\n2. **Container caching**: Images cached locally\n3. **Validation caching**: Results cached in `~/.huskycat/cache`\n\n```bash\n# Clean caches\n./dist/huskycat clean --all\n\n# Rebuild container\nnpm run container:build\n\n# Status and performance info\n./dist/huskycat status\n```\n",
      "word_count": 1056
    },
    {
      "title": "CLI Reference",
      "path": "/cli-reference/",
      "url": "https://tinyland.gitlab.io/ai/huskycat/cli-reference/",
      "source_file": "docs/cli-reference.md",
      "content": "# CLI Reference\n\nComplete command-line interface reference for HuskyCat.\n\n## Synopsis\n\n```bash\nhuskycat [OPTIONS] COMMAND [ARGS]\n```\n\n## Global Options\n\n| Option | Description |\n|--------|-------------|\n| `-h`, `--help` | Show help message and exit |\n| `--version` | Show version and exit |\n| `--verbose`, `-v` | Enable verbose output (repeat for more verbosity) |\n| `--config-dir PATH` | Override config directory (default: `.huskycat`) |\n| `--mode MODE` | Override product mode detection (see [Product Modes](#product-modes)) |\n| `--json` | Force JSON output (equivalent to `--mode pipeline`) |\n\n## Product Modes\n\nHuskyCat automatically detects the execution context, but you can override:\n\n| Mode | Description | Output Format | Use Case |\n|------|-------------|---------------|----------|\n| `git_hooks` | Git hooks mode | Minimal, errors only | Pre-commit/pre-push validation |\n| `ci` | CI/CD mode | JUnit XML | GitLab CI, GitHub Actions |\n| `cli` | Interactive CLI | Rich terminal output | Developer usage |\n| `pipeline` | Pipeline integration | JSON | Scripting, automation |\n| `mcp` | MCP server | JSON-RPC 2.0 | Claude Code integration |\n\n**Examples:**\n\n```bash\n# Force CI mode with JUnit XML output\nhuskycat --mode ci validate --all\n\n# Force JSON output for scripting\nhuskycat --json status\n\n# Verbose CLI output\nhuskycat -vv validate src/\n```\n\n## Commands\n\n### validate\n\nValidate files or directories with all applicable validators.\n\n**Usage:**\n```bash\nhuskycat validate [OPTIONS] [FILES...]\n```\n\n**Arguments:**\n- `FILES` - Files or directories to validate (default: current directory)\n\n**Options:**\n\n| Option | Description |\n|--------|-------------|\n| `--staged` | Validate only staged git files |\n| `--all` | Validate all files in repository |\n| `--fix` | Auto-fix issues where possible |\n| `--interactive` | Prompt for auto-fix decisions |\n| `--allow-warnings` | Allow warnings to pass (don't fail) |\n\n**Examples:**\n\n```bash\n# Validate current directory\nhuskycat validate\n\n# Validate specific files\nhuskycat validate src/main.py tests/test_api.py\n\n# Validate all Python files in src/\nhuskycat validate src/**/*.py\n\n# Validate staged files (pre-commit)\nhuskycat validate --staged\n\n# Validate and auto-fix\nhuskycat validate --fix\n\n# Interactive auto-fix with prompts\nhuskycat validate --fix --interactive\n\n# Validate all files in repository\nhuskycat validate --all\n```\n\n**Exit Codes:**\n- `0` - All validations passed\n- `1` - Validation failures found\n- `2` - Error during execution\n\n---\n\n### auto-fix\n\nAuto-fix issues using all available validators.\n\n**Usage:**\n```bash\nhuskycat auto-fix [OPTIONS] [FILES...]\n```\n\n**Arguments:**\n- `FILES` - Files or directories to auto-fix (default: current directory)\n\n**Options:**\n\n| Option | Description |\n|--------|-------------|\n| `--staged` | Auto-fix only staged git files |\n| `--interactive` | Prompt before applying fixes |\n\n**Examples:**\n\n```bash\n# Auto-fix current directory\nhuskycat auto-fix\n\n# Auto-fix staged files\nhuskycat auto-fix --staged\n\n# Interactive auto-fix with confirmation\nhuskycat auto-fix --interactive src/\n```\n\n---\n\n### setup-hooks\n\nInstall git hooks for automatic validation.\n\n**Usage:**\n```bash\nhuskycat setup-hooks [OPTIONS]\n```\n\n**Options:**\n\n| Option | Description |\n|--------|-------------|\n| `--force` | Overwrite existing hooks |\n\n**Examples:**\n\n```bash\n# Install git hooks\nhuskycat setup-hooks\n\n# Force reinstall (overwrite existing)\nhuskycat setup-hooks --force\n```\n\n**Installed Hooks:**\n- `pre-commit` - Validates staged files before commit\n- `pre-push` - Validates CI configuration before push\n- `commit-msg` - Validates commit message format\n\n**Configuration:**\n\nHooks respect `.huskycat/config.json` settings. To skip hooks temporarily:\n\n```bash\n# Skip hooks for one commit\nSKIP_HOOKS=1 git commit -m \"message\"\n\n# Skip validation on push\ngit push --no-verify\n```\n\n---\n\n### ci-validate\n\nValidate CI configuration files.\n\n**Usage:**\n```bash\nhuskycat ci-validate [FILES...]\n```\n\n**Arguments:**\n- `FILES` - CI configuration files (default: `.gitlab-ci.yml`)\n\n**Examples:**\n\n```bash\n# Validate GitLab CI\nhuskycat ci-validate .gitlab-ci.yml\n\n# Validate multiple CI files\nhuskycat ci-validate .gitlab-ci.yml .github/workflows/*.yml\n```\n\n**Supported CI Configs:**\n- GitLab CI (`.gitlab-ci.yml`)\n- GitHub Actions (`.github/workflows/*.yml`)\n\n---\n\n### auto-devops\n\nValidate Auto-DevOps Helm charts and Kubernetes manifests.\n\n**Usage:**\n```bash\nhuskycat auto-devops [PATH]\n```\n\n**Arguments:**\n- `PATH` - Path to Helm charts or K8s manifests (default: `.`)\n\n**Examples:**\n\n```bash\n# Validate Auto-DevOps configuration\nhuskycat auto-devops\n\n# Validate specific Helm chart\nhuskycat auto-devops charts/myapp/\n```\n\n---\n\n### mcp-server\n\nStart MCP server for Claude Code integration (stdio mode).\n\n**Usage:**\n```bash\nhuskycat mcp-server\n```\n\n**Notes:**\n- Uses stdin/stdout for JSON-RPC 2.0 communication\n- No HTTP server or port configuration\n- Designed for Claude Code MCP integration\n\n**Examples:**\n\n```bash\n# Start MCP server (normally called by Claude Code)\nhuskycat mcp-server\n\n# Test MCP server manually\necho '{\"jsonrpc\":\"2.0\",\"method\":\"initialize\",\"params\":{},\"id\":1}' | huskycat mcp-server\n```\n\nSee [MCP Server Guide](features/mcp-server.md) for integration details.\n\n---\n\n### bootstrap\n\nAutomatically configure Claude Code MCP integration.\n\n**Usage:**\n```bash\nhuskycat bootstrap [OPTIONS]\n```\n\n**Options:**\n\n| Option | Description |\n|--------|-------------|\n| `--force` | Overwrite existing MCP configuration |\n\n**Examples:**\n\n```bash\n# Configure Claude Code MCP integration\nhuskycat bootstrap\n\n# Force reconfiguration\nhuskycat bootstrap --force\n```\n\n**What it does:**\n1. Creates MCP configuration file\n2. Configures HuskyCat binary path\n3. Sets up stdio transport\n\n---\n\n### update-schemas\n\nUpdate validation schemas from official sources.\n\n**Usage:**\n```bash\nhuskycat update-schemas\n```\n\n**Examples:**\n\n```bash\n# Update all validation schemas\nhuskycat update-schemas\n```\n\n**Updated Schemas:**\n- GitLab CI schema\n- JSON schemas for configuration files\n- Validation rule definitions\n\n---\n\n### clean\n\nClean cache and temporary files.\n\n**Usage:**\n```bash\nhuskycat clean [OPTIONS]\n```\n\n**Options:**\n\n| Option | Description |\n|--------|-------------|\n| `--all` | Clean all cached data including schemas |\n\n**Examples:**\n\n```bash\n# Clean cache and temporary files\nhuskycat clean\n\n# Clean everything including schemas\nhuskycat clean --all\n```\n\n**Cleaned Directories:**\n- `.huskycat/cache/` - Validation cache\n- `.huskycat/temp/` - Temporary files\n- With `--all`: `.huskycat/schemas/` - Downloaded schemas\n\n---\n\n### status\n\nShow HuskyCat configuration and system status.\n\n**Usage:**\n```bash\nhuskycat status\n```\n\n**Examples:**\n\n```bash\n# Show status\nhuskycat status\n\n# JSON output for scripting\nhuskycat --json status\n```\n\n**Status Information:**\n- HuskyCat version\n- Product mode (detected)\n- Container runtime (podman/docker)\n- Installed validators\n- Git hooks status\n- Configuration directory\n- Cache size\n\n---\n\n### install\n\nInstall HuskyCat binary and dependencies (for development).\n\n**Usage:**\n```bash\nhuskycat install\n```\n\n**Examples:**\n\n```bash\n# Install HuskyCat\nhuskycat install\n```\n\n**Note:** Most users should use [pre-built binaries](binary-downloads.md) instead.\n\n---\n\n## Environment Variables\n\nHuskyCat respects these environment variables:\n\n| Variable | Description | Default |\n|----------|-------------|---------|\n| `HUSKYCAT_MODE` | Override product mode detection | Auto-detect |\n| `HUSKYCAT_LOG_LEVEL` | Logging level (DEBUG, INFO, WARNING, ERROR) | INFO |\n| `HUSKYCAT_CONFIG_DIR` | Configuration directory | `.huskycat` |\n| `SKIP_HOOKS` | Skip git hooks (set to `1`) | Not set |\n| `CI` | Detected CI environment | Not set |\n| `GITLAB_CI` | GitLab CI detection | Not set |\n| `GITHUB_ACTIONS` | GitHub Actions detection | Not set |\n\n**Examples:**\n\n```bash\n# Enable debug logging\nHUSKYCAT_LOG_LEVEL=DEBUG huskycat validate\n\n# Override product mode\nHUSKYCAT_MODE=ci huskycat validate --all\n\n# Skip git hooks temporarily\nSKIP_HOOKS=1 git commit -m \"message\"\n```\n\n---\n\n## Exit Codes\n\n| Code | Meaning |\n|------|---------|\n| `0` | Success - all validations passed |\n| `1` | Validation failures found |\n| `2` | Execution error (invalid arguments, missing dependencies, etc.) |\n\n---\n\n## Configuration Files\n\n### Project Configuration\n\n**Location:** `.huskycat/config.json`\n\n```json\n{\n  \"validators\": {\n    \"python-black\": {\"enabled\": true},\n    \"mypy\": {\"enabled\": true},\n    \"flake8\": {\"enabled\": true},\n    \"ruff\": {\"enabled\": true}\n  },\n  \"auto_fix\": {\n    \"enabled\": true,\n    \"interactive\": false\n  }\n}\n```\n\n### Tool-Specific Configuration\n\nHuskyCat respects standard configuration files:\n\n- **Black:** `pyproject.toml` ([tool.black])\n- **Flake8:** `.flake8`, `setup.cfg`\n- **MyPy:** `mypy.ini`, `pyproject.toml`\n- **Ruff:** `ruff.toml`, `pyproject.toml`\n- **ESLint:** `.eslintrc.json`, `.eslintrc.js`\n- **Prettier:** `.prettierrc`, `prettier.config.js`\n\n---\n\n## Validators\n\nHuskyCat includes these validators:\n\n### Python\n\n| Validator | Tool | Purpose | Auto-Fix |\n|-----------|------|---------|----------|\n| `python-black` | Black | Code formatting | \u2705 Yes |\n| `autoflake` | Autoflake | Remove unused imports | \u2705 Yes |\n| `flake8` | Flake8 | Linting | \u274c No |\n| `mypy` | MyPy | Type checking | \u274c No |\n| `ruff` | Ruff | Fast linting | \u2705 Partial |\n| `bandit` | Bandit | Security scanning | \u274c No |\n\n### JavaScript/TypeScript\n\n| Validator | Tool | Purpose | Auto-Fix |\n|-----------|------|---------|----------|\n| `js-eslint` | ESLint | Linting | \u2705 Partial |\n| `js-prettier` | Prettier | Code formatting | \u2705 Yes |\n\n### Configuration Files\n\n| Validator | Tool | Purpose | Auto-Fix |\n|-----------|------|---------|----------|\n| `yamllint` | yamllint | YAML linting | \u2705 Partial |\n| `gitlab-ci` | GitLab CI Lint | CI validation | \u274c No |\n\n### Containers & Scripts\n\n| Validator | Tool | Purpose | Auto-Fix |\n|-----------|------|---------|----------|\n| `docker-hadolint` | hadolint | Dockerfile linting | \u274c No |\n| `shellcheck` | shellcheck | Shell script linting | \u274c No |\n\n---\n\n## Examples\n\n### Common Workflows\n\n**Pre-commit validation:**\n```bash\n# Validate staged files before commit\nhuskycat validate --staged --fix\n```\n\n**CI/CD integration:**\n```bash\n# Validate in CI with JUnit XML output\nhuskycat --mode ci validate --all\n```\n\n**Interactive development:**\n```bash\n# Validate and interactively fix issues\nhuskycat validate --fix --interactive src/\n```\n\n**Scripting/Automation:**\n```bash\n# Get JSON output for parsing\nhuskycat --json validate src/ > results.json\n```\n\n---\n\n## Troubleshooting\n\n### Common Issues\n\n**\"No container runtime available\"**\n\nInstall Podman or Docker:\n```bash\n# macOS\nbrew install podman\n\n# Rocky Linux\nsudo dnf install podman\n```\n\n**\"Permission denied\" on macOS**\n\nAllow binary execution:\n```bash\nxattr -d com.apple.quarantine ~/.local/bin/huskycat\n```\n\n**Git hooks not running**\n\nCheck hooks installation:\n```bash\nhuskycat status\nls -la .git/hooks/\n```\n\nReinstall if needed:\n```bash\nhuskycat setup-hooks --force\n```\n\n---\n\nFor detailed installation instructions, see [Installation Guide](installation.md).\n\nFor binary downloads, see [Binary Downloads](binary-downloads.md).\n\nFor troubleshooting, see [Troubleshooting Guide](troubleshooting.md).\n",
      "word_count": 1544
    },
    {
      "title": "GitLab CI/CD",
      "path": "/gitlab-ci-cd/",
      "url": "https://tinyland.gitlab.io/ai/huskycat/gitlab-ci-cd/",
      "source_file": "docs/gitlab-ci-cd.md",
      "content": "# GitLab CI/CD Integration\n\nHuskyCats Bates provides comprehensive CI/CD validation using the published container image. The container must be built and published manually using podman or docker on your local machine.\n\n## \ud83d\ude80 Quick Start\n\n### Option 1: Include HuskyCats Template\n\nAdd this to your `.gitlab-ci.yml`:\n\n```yaml\ninclude:\n  - remote: 'https://gitlab.com/bates-ils/projects/trustees-portal/sid-controller/huskycats-bates/-/raw/main/.gitlab/ci/husky-validation.yml'\n\nstages:\n  - test\n\n# This will run comprehensive validation\nhusky:validate:\n  stage: test\n```\n\n### Option 2: Custom Configuration\n\n```yaml\nimage: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n\nstages:\n  - validate\n  - lint\n  - security\n  - test\n\n# Run all validations\nvalidate:all:\n  stage: validate\n  script:\n    - cd /workspace\n    - cp -r ${CI_PROJECT_DIR}/* /workspace/\n    - ./scripts/comprehensive-lint.sh\n```\n\n## \ud83d\udccb Available Jobs\n\n### Validation Jobs\n\n| Job | Description | Runs On |\n|-----|-------------|---------|\n| `validate:gitlab-ci` | Validates `.gitlab-ci.yml` syntax | CI file changes |\n| `validate:auto-devops` | Validates Auto DevOps configuration | K8s/Helm changes |\n| `validate:comprehensive` | Runs all linters and validators | All changes |\n\n### Linting Jobs\n\n| Job | Description | Tools Used |\n|-----|-------------|------------|\n| `lint:python` | Python code quality | Black, Flake8, MyPy, Ruff, Pylint |\n| `lint:javascript` | JS/TS code quality | ESLint, Prettier |\n| `lint:shell` | Shell script analysis | ShellCheck |\n| `lint:docker` | Dockerfile best practices | Hadolint |\n| `lint:yaml` | YAML validation | yamllint |\n| `lint:ansible` | Ansible playbook linting | ansible-lint |\n\n### Security Jobs\n\n| Job | Description | Checks For |\n|-----|-------------|------------|\n| `security:secrets` | Secret scanning | Passwords, API keys, tokens |\n| `security:python` | Python security | Bandit, Safety |\n\n### Test Jobs\n\n| Job | Description | Output |\n|-----|-------------|--------|\n| `test:unit` | Run unit tests | JUnit XML, Coverage |\n| `quality:report` | Generate quality metrics | Quality report artifact |\n\n## \ud83d\udd27 Configuration\n\n### Environment Variables\n\n```yaml\nvariables:\n  # Disable shallow clone for full repo access\n  GIT_DEPTH: 0\n  \n  # Python settings\n  PYTHONUNBUFFERED: \"1\"\n  \n  # Node settings\n  NODE_ENV: \"ci\"\n  \n  # Custom linting options\n  LINT_PYTHON_BLACK: \"true\"\n  LINT_PYTHON_FLAKE8: \"true\"\n  AUTO_FIX: \"false\"\n```\n\n### Caching\n\nSpeed up CI runs with caching:\n\n```yaml\ncache:\n  key: ${CI_COMMIT_REF_SLUG}\n  paths:\n    - node_modules/\n    - .npm/\n    - .cache/\n    - .venv/\n```\n\n## \ud83c\udfaf Use Cases\n\n### 1. Python Project\n\n```yaml\ninclude:\n  - remote: 'https://gitlab.com/bates-ils/projects/trustees-portal/sid-controller/huskycats-bates/-/raw/main/.gitlab/ci/husky-validation.yml'\n\nstages:\n  - lint\n  - test\n\n# Python-specific validation\npython:quality:\n  extends: husky:python\n  stage: lint\n\n# Run tests after linting\ntest:pytest:\n  extends: .husky\n  stage: test\n  script:\n    - python -m pytest\n```\n\n### 2. Node.js Project\n\n```yaml\nimage: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n\nstages:\n  - install\n  - lint\n  - test\n\ninstall:deps:\n  stage: install\n  script:\n    - npm ci\n  cache:\n    key: ${CI_COMMIT_REF_SLUG}\n    paths:\n      - node_modules/\n\nlint:js:\n  stage: lint\n  script:\n    - npx eslint .\n    - npx prettier --check .\n  needs: [\"install:deps\"]\n```\n\n### 3. Mixed Language Project\n\n```yaml\nimage: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n\nstages:\n  - validate\n\n# Run all validations\nvalidate:all:\n  stage: validate\n  before_script:\n    - cd /workspace\n    - cp -r ${CI_PROJECT_DIR}/* /workspace/\n    - cp -r ${CI_PROJECT_DIR}/.* /workspace/ 2>/dev/null || true\n  script:\n    - ./scripts/comprehensive-lint.sh\n  artifacts:\n    paths:\n      - lint-results.txt\n    expire_in: 1 week\n```\n\n### 4. Security-Focused Pipeline\n\n```yaml\ninclude:\n  - remote: 'https://gitlab.com/bates-ils/projects/trustees-portal/sid-controller/huskycats-bates/-/raw/main/.gitlab/ci/husky-validation.yml'\n\nstages:\n  - security\n\n# Fail on security issues\nsecurity:scan:\n  extends: husky:security\n  stage: security\n  allow_failure: false\n```\n\n## \ud83d\udcca Artifacts and Reports\n\n### JUnit Test Reports\n\n```yaml\ntest:results:\n  script:\n    - python -m pytest --junitxml=test-results.xml\n  artifacts:\n    reports:\n      junit: test-results.xml\n```\n\n### Coverage Reports\n\n```yaml\ntest:coverage:\n  script:\n    - python -m pytest --cov --cov-report=xml\n  coverage: '/TOTAL.*\\s+(\\d+%)$/'\n  artifacts:\n    reports:\n      coverage_report:\n        coverage_format: cobertura\n        path: coverage.xml\n```\n\n### Quality Reports\n\n```yaml\nquality:metrics:\n  extends: .husky\n  script:\n    - ./scripts/comprehensive-lint.sh > quality-report.txt\n  artifacts:\n    paths:\n      - quality-report.txt\n    expire_in: 1 month\n```\n\n## \ud83d\udea8 Troubleshooting\n\n### Common Issues\n\n1. **\"Docker-in-Docker not available\"**\n   - Not needed! HuskyCats image includes all tools\n\n2. **\"Permission denied\" errors**\n   - Add execution permissions in before_script:\n   ```yaml\n   before_script:\n     - chmod +x scripts/*.sh\n   ```\n\n3. **\"Module not found\" errors**\n   - Install dependencies in the job:\n   ```yaml\n   script:\n     - pip install -r requirements.txt\n     - npm install\n   ```\n\n### Debugging\n\nEnable verbose output:\n\n```yaml\nvariables:\n  VERBOSE: \"true\"\n  DEBUG: \"1\"\n```\n\n## \ud83d\udd04 Migration Guide\n\n### From Container Building in CI\n\nBefore:\n```yaml\nservices:\n  - docker:dind\n\nbuild:\n  script:\n    - docker build -t myapp .\n```\n\nAfter:\n```yaml\n# Build locally with podman/docker:\n# ./publish.sh v1.0.0\n\n# Then use in CI:\nimage: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n\nvalidate:\n  script:\n    - hadolint ContainerFile\n    - ./scripts/comprehensive-lint.sh\n```\n\n### From Multiple Linter Jobs\n\nBefore:\n```yaml\nflake8:\n  image: python:3.9\n  script: flake8 .\n\neslint:\n  image: node:16\n  script: npx eslint .\n\nshellcheck:\n  image: koalaman/shellcheck\n  script: shellcheck *.sh\n```\n\nAfter:\n```yaml\nimage: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n\nlint:all:\n  script:\n    - ./scripts/comprehensive-lint.sh\n```\n\n## \ud83c\udfd7\ufe0f Binary Builds\n\nHuskyCat's CI pipeline builds native binaries for multiple platforms using GitLab SaaS runners.\n\n### Supported Platforms\n\n| Platform | Architecture | Base Image | Runner | Status |\n|----------|-------------|------------|--------|---------|\n| Linux | x86_64 (AMD64) | Rocky Linux 10 | GitLab SaaS AMD64 | \u2705 Supported |\n| Linux | ARM64 (aarch64) | Rocky Linux 10 | GitLab SaaS ARM64 | \u2705 Supported |\n| macOS | Apple Silicon (M1/M2/M3) | macOS 14 | GitLab SaaS macOS | \u2705 Supported (ad-hoc signed) |\n| macOS | Intel (x86_64) | - | - | \u274c Not available |\n\n### Build Configuration\n\n**Linux AMD64:**\n```yaml\nbinary:build:linux:\n  stage: package\n  image: rockylinux/rockylinux:10\n  before_script:\n    - dnf install -y epel-release\n    - dnf install -y git curl gcc python3 python3-pip zlib-devel upx\n    - curl -LsSf https://astral.sh/uv/install.sh | sh\n  script:\n    - uv sync --extra build\n    - uv run pyinstaller --onefile --name huskycat-linux-amd64 huskycat_main.py\n    - upx --best --lzma dist/bin/huskycat-linux-amd64\n  artifacts:\n    paths:\n      - dist/bin/huskycat-linux-amd64\n```\n\n**Linux ARM64:**\n```yaml\nbinary:build:linux-arm64:\n  stage: package\n  image: rockylinux/rockylinux:10\n  tags:\n    - saas-linux-medium-arm64\n  before_script:\n    - dnf install -y epel-release\n    - dnf install -y git curl gcc python3 python3-pip zlib-devel upx\n  script:\n    - uv sync --extra build\n    - uv run pyinstaller --onefile --name huskycat-linux-arm64 huskycat_main.py\n```\n\n**macOS ARM64 with Signing:**\n```yaml\nsign:darwin-arm64:\n  extends: .macos_saas_runners\n  stage: sign\n  script:\n    # Create temporary keychain\n    - security create-keychain -p \"$KEYCHAIN_PASSWORD\" \"$KEYCHAIN_NAME\"\n    - security import certificate.p12 -k \"$KEYCHAIN_NAME\"\n\n    # Check certificate type and sign or fallback\n    - |\n      APP_CERT_COUNT=$(security find-identity -v \"$KEYCHAIN_NAME\" | grep -c \"Developer ID Application\" || true)\n      if [ \"$APP_CERT_COUNT\" -eq 0 ]; then\n        codesign --force --sign - dist/bin/huskycat-darwin-arm64  # Ad-hoc signing\n      else\n        codesign --force --options runtime --sign \"$APPLE_DEVELOPER_ID_APPLICATION\" dist/bin/huskycat-darwin-arm64\n      fi\n    - codesign --verify --verbose dist/bin/huskycat-darwin-arm64\n```\n\n### Key Features\n\n1. **Rocky Linux 10** - Latest RHEL-compatible base (supported through May 2035)\n2. **Native Compilation** - No cross-compilation, native runners for each architecture\n3. **UPX Compression** - Reduces binary size by ~60%\n4. **macOS Code Signing** - Ad-hoc signing with fallback when Developer ID Application cert not available\n5. **Automatic Releases** - Binaries attached to GitLab releases on tags\n\n### Download Binaries\n\nPre-built binaries are available from GitLab releases:\n\n```bash\n# Latest release (permalink)\ncurl -L -o huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\nchmod +x huskycat\n```\n\nSee [Binary Downloads Guide](binary-downloads.md) for detailed instructions.\n\n---\n\n## \ud83c\udf89 Benefits\n\n1. **No Container Building in CI** - Uses pre-published images\n2. **All Tools Pre-installed** - No setup needed\n3. **Consistent Environment** - Same tools locally and in CI\n4. **Fast Execution** - No build step required\n5. **Comprehensive Validation** - All languages and configs covered\n6. **Manual Publishing** - Full control over image versions\n\n## \ud83d\udcda Next Steps\n\n- [Installation Guide](installation.md) - Setup and install HuskyCat\n- [Configuration](configuration.md) - Configure validation rules\n- [Auto DevOps](gitlab-auto-devops-complete.md) - Kubernetes validation",
      "word_count": 1175
    },
    {
      "title": "GitHub Actions",
      "path": "/github-actions/",
      "url": "https://tinyland.gitlab.io/ai/huskycat/github-actions/",
      "source_file": "docs/github-actions.md",
      "content": "# GitHub Actions Integration\n\nIntegrate HuskyCat validation into your GitHub Actions workflows for automated code quality checks.\n\n## Quick Start\n\nAdd this workflow to `.github/workflows/validate.yml`:\n\n```yaml\nname: HuskyCat Validation\n\non:\n  push:\n    branches: [ main, develop ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  validate:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Download HuskyCat\n        run: |\n          curl -L -o huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n          chmod +x huskycat\n          sudo mv huskycat /usr/local/bin/\n\n      - name: Install Podman\n        run: |\n          sudo apt-get update\n          sudo apt-get install -y podman\n\n      - name: Validate Code\n        run: huskycat validate --all\n```\n\n## \ud83d\udccb Workflow Templates\n\n### Basic Validation\n\nValidate all files on push and pull requests:\n\n```yaml\nname: Code Validation\n\non: [push, pull_request]\n\njobs:\n  validate:\n    name: Validate Code Quality\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v4\n\n      - name: Setup HuskyCat\n        run: |\n          curl -L -o /usr/local/bin/huskycat \\\n            https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n          chmod +x /usr/local/bin/huskycat\n\n      - name: Install Podman\n        run: sudo apt-get update && sudo apt-get install -y podman\n\n      - name: Run Validation\n        run: huskycat --mode ci validate --all\n```\n\n### Python Project Validation\n\nFocused validation for Python projects:\n\n```yaml\nname: Python Validation\n\non:\n  push:\n    paths:\n      - '**.py'\n      - 'pyproject.toml'\n      - 'setup.py'\n      - 'requirements*.txt'\n\njobs:\n  python-validate:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup HuskyCat\n        run: |\n          curl -L -o /usr/local/bin/huskycat \\\n            https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n          chmod +x /usr/local/bin/huskycat\n\n      - name: Install Podman\n        run: sudo apt-get install -y podman\n\n      - name: Validate Python Code\n        run: |\n          huskycat validate --all\n          # Validators used: black, flake8, mypy, ruff, bandit\n```\n\n### Multi-Platform Validation\n\nTest on multiple platforms:\n\n```yaml\nname: Multi-Platform Validation\n\non: [push, pull_request]\n\njobs:\n  validate:\n    strategy:\n      matrix:\n        os: [ubuntu-latest, macos-latest]\n        include:\n          - os: ubuntu-latest\n            binary: huskycat-linux-amd64\n            container: podman\n          - os: macos-latest\n            binary: huskycat-darwin-arm64\n            container: podman\n\n    runs-on: ${{ matrix.os }}\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Download HuskyCat\n        run: |\n          curl -L -o huskycat \\\n            https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/${{ matrix.binary }}\n          chmod +x huskycat\n          sudo mv huskycat /usr/local/bin/\n\n      - name: Install Container Runtime\n        run: |\n          if [ \"$RUNNER_OS\" == \"Linux\" ]; then\n            sudo apt-get update && sudo apt-get install -y podman\n          elif [ \"$RUNNER_OS\" == \"macOS\" ]; then\n            brew install podman\n            podman machine init\n            podman machine start\n          fi\n\n      - name: Validate\n        run: huskycat validate --all\n```\n\n### Pull Request Validation with Comments\n\nValidate PR changes and comment on results:\n\n```yaml\nname: PR Validation\n\non:\n  pull_request:\n    types: [opened, synchronize, reopened]\n\npermissions:\n  contents: read\n  pull-requests: write\n\njobs:\n  validate-pr:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n        with:\n          fetch-depth: 0  # Full history for better diff analysis\n\n      - name: Setup HuskyCat\n        run: |\n          curl -L -o /usr/local/bin/huskycat \\\n            https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n          chmod +x /usr/local/bin/huskycat\n\n      - name: Install Podman\n        run: sudo apt-get install -y podman\n\n      - name: Validate Changed Files\n        id: validate\n        run: |\n          huskycat --json validate --all > validation-results.json\n          echo \"results<<EOF\" >> $GITHUB_OUTPUT\n          cat validation-results.json >> $GITHUB_OUTPUT\n          echo \"EOF\" >> $GITHUB_OUTPUT\n        continue-on-error: true\n\n      - name: Comment PR\n        uses: actions/github-script@v7\n        if: always()\n        with:\n          script: |\n            const results = ${{ steps.validate.outputs.results }};\n            const comment = `## HuskyCat Validation Results\n\n            ${results.success ? '\u2705 All validations passed!' : '\u274c Validation failures found'}\n\n            **Files validated:** ${results.summary.total_files}\n            **Errors:** ${results.summary.total_errors}\n            **Warnings:** ${results.summary.total_warnings}\n            `;\n\n            github.rest.issues.createComment({\n              issue_number: context.issue.number,\n              owner: context.repo.owner,\n              repo: context.repo.repo,\n              body: comment\n            });\n```\n\n### Scheduled Validation\n\nRun periodic validation checks:\n\n```yaml\nname: Scheduled Validation\n\non:\n  schedule:\n    - cron: '0 0 * * 0'  # Weekly on Sunday at midnight\n  workflow_dispatch:  # Manual trigger\n\njobs:\n  scheduled-validate:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup HuskyCat\n        run: |\n          curl -L -o /usr/local/bin/huskycat \\\n            https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n          chmod +x /usr/local/bin/huskycat\n\n      - name: Install Podman\n        run: sudo apt-get install -y podman\n\n      - name: Full Repository Validation\n        run: huskycat validate --all --verbose\n\n      - name: Upload Results\n        uses: actions/upload-artifact@v4\n        if: always()\n        with:\n          name: validation-results\n          path: |\n            .huskycat/cache/\n            validation-results.json\n```\n\n## \ud83d\udd27 Configuration\n\n### Environment Variables\n\nSet these in workflow or repository secrets:\n\n```yaml\nenv:\n  HUSKYCAT_MODE: ci\n  HUSKYCAT_LOG_LEVEL: INFO\n```\n\n### Secrets Configuration\n\nFor private registries or custom setups:\n\n```yaml\nenv:\n  CONTAINER_REGISTRY_TOKEN: ${{ secrets.CONTAINER_REGISTRY_TOKEN }}\n```\n\n## \ud83d\udcca Status Checks\n\n### Required Status Checks\n\nAdd HuskyCat as a required status check:\n\n1. Go to **Settings** \u2192 **Branches** \u2192 **Branch protection rules**\n2. Select your branch (e.g., `main`)\n3. Enable **Require status checks to pass before merging**\n4. Search for and select **HuskyCat Validation**\n\n### Status Badge\n\nAdd a badge to your README:\n\n```markdown\n[![HuskyCat Validation](https://github.com/your-org/your-repo/workflows/HuskyCat%20Validation/badge.svg)](https://github.com/your-org/your-repo/actions)\n```\n\n## \ud83d\ude80 Advanced Usage\n\n### Matrix Strategy for Multiple Validators\n\nRun specific validators in parallel:\n\n```yaml\njobs:\n  validate:\n    strategy:\n      matrix:\n        validator: [python-black, mypy, flake8, ruff]\n\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n      - name: Setup HuskyCat\n        run: # ... (setup steps)\n\n      - name: Run ${{ matrix.validator }}\n        run: huskycat validate --validator ${{ matrix.validator }} --all\n```\n\n### Caching\n\nSpeed up workflows with caching:\n\n```yaml\n- name: Cache HuskyCat Binary\n  uses: actions/cache@v4\n  with:\n    path: /usr/local/bin/huskycat\n    key: huskycat-${{ runner.os }}-${{ hashFiles('**/huskycat-version.txt') }}\n\n- name: Cache Validation Schemas\n  uses: actions/cache@v4\n  with:\n    path: .huskycat/schemas/\n    key: huskycat-schemas-${{ hashFiles('.huskycat/schemas/**') }}\n```\n\n### Auto-Fix and Commit\n\nAutomatically fix issues and commit changes:\n\n```yaml\n- name: Validate and Auto-Fix\n  run: huskycat validate --all --fix\n\n- name: Commit Fixes\n  uses: stefanzweifel/git-auto-commit-action@v5\n  with:\n    commit_message: \"fix: auto-fix validation issues [skip ci]\"\n    file_pattern: \"*.py *.js *.ts *.yaml\"\n```\n\n**\u26a0\ufe0f Warning:** Only use auto-commit on trusted branches or in draft PRs to avoid security risks.\n\n## \ud83d\udc33 Container-Based Workflow\n\nUse HuskyCat's validation container directly:\n\n```yaml\njobs:\n  validate:\n    runs-on: ubuntu-latest\n    container:\n      image: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Validate\n        run: huskycat validate --all\n```\n\n## \ud83d\udd17 Integration with Other Actions\n\n### Combine with Code Coverage\n\n```yaml\n- name: Run Tests with Coverage\n  run: pytest --cov --cov-report=xml\n\n- name: Validate Code Quality\n  run: huskycat validate --all\n\n- name: Upload Coverage\n  uses: codecov/codecov-action@v4\n```\n\n### Combine with Security Scanning\n\n```yaml\n- name: HuskyCat Validation\n  run: huskycat validate --all\n\n- name: Run Trivy Security Scan\n  uses: aquasecurity/trivy-action@master\n  with:\n    scan-type: 'fs'\n```\n\n## \ud83d\udcc8 Performance Tips\n\n1. **Cache Binaries** - Use actions/cache to avoid re-downloading\n2. **Parallel Jobs** - Use matrix strategy for independent validations\n3. **Conditional Execution** - Use `paths` filter to run only when needed\n4. **Container Runtime** - Podman is faster than Docker in most cases\n\n## \u274c Troubleshooting\n\n### Binary Download Fails\n\n```yaml\n- name: Download HuskyCat with Retry\n  uses: nick-fields/retry@v2\n  with:\n    timeout_minutes: 5\n    max_attempts: 3\n    command: |\n      curl -L -o /usr/local/bin/huskycat \\\n        https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n      chmod +x /usr/local/bin/huskycat\n```\n\n### Podman Installation Issues\n\n```yaml\n- name: Install Podman (Fallback to Docker)\n  run: |\n    if ! command -v podman &> /dev/null; then\n      if ! command -v docker &> /dev/null; then\n        sudo apt-get update\n        sudo apt-get install -y podman\n      fi\n    fi\n```\n\n### Permission Issues on macOS\n\n```yaml\n- name: Allow Binary Execution (macOS)\n  if: runner.os == 'macOS'\n  run: |\n    xattr -d com.apple.quarantine /usr/local/bin/huskycat || true\n```\n\n## \ud83d\udd10 Security Considerations\n\n1. **Pin Binary Versions** - Use specific tags instead of `latest`\n2. **Verify Checksums** - Download and verify SHA256 checksums\n3. **Limit Permissions** - Use minimal required workflow permissions\n4. **Review Auto-Commits** - Don't auto-commit on public PRs\n\nExample with version pinning:\n\n```yaml\n- name: Download HuskyCat (Pinned Version)\n  run: |\n    VERSION=\"v2.0.0\"\n    curl -L -o /usr/local/bin/huskycat \\\n      \"https://gitlab.com/tinyland/ai/huskycat/-/jobs/artifacts/${VERSION}/raw/dist/bin/huskycat-linux-amd64?job=binary:build:linux\"\n    chmod +x /usr/local/bin/huskycat\n```\n\n## \ud83d\udcda Examples\n\nComplete workflow examples are available in the [HuskyCat repository](https://gitlab.com/tinyland/ai/huskycat/-/tree/main/.github/workflows).\n\n---\n\nFor GitLab CI integration, see [GitLab CI/CD Guide](gitlab-ci-cd.md).\n\nFor CLI usage, see [CLI Reference](cli-reference.md).\n\nFor binary downloads, see [Binary Downloads](binary-downloads.md).\n",
      "word_count": 1184
    },
    {
      "title": "Auto-DevOps",
      "path": "/gitlab-auto-devops-complete/",
      "url": "https://tinyland.gitlab.io/ai/huskycat/gitlab-auto-devops-complete/",
      "source_file": "docs/gitlab-auto-devops-complete.md",
      "content": "# Complete GitLab Auto DevOps Integration Guide for HuskyCats\n\nThis comprehensive guide covers integrating HuskyCats Bates with GitLab Auto DevOps for complete CI/CD validation, linting, security scanning, and automated deployments.\n\n## \ud83d\ude80 Quick Start\n\n### Option 1: Use HuskyCats Container (Recommended)\n\n```yaml\n# .gitlab-ci.yml\nimage: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n\nvariables:\n  # Auto DevOps configuration\n  CI_APPLICATION_REPOSITORY: $CI_REGISTRY_IMAGE\n  CI_APPLICATION_TAG: $CI_COMMIT_SHA\n  \n  # Disable unnecessary Auto DevOps features\n  TEST_DISABLED: 1\n  CODE_QUALITY_DISABLED: 1  # We use HuskyCats instead\n  CONTAINER_SCANNING_DISABLED: 1  # We use HuskyCats security scanning\n  \n  # HuskyCats settings\n  LINT_AUTO_FIX: \"false\"\n  VERBOSE: \"true\"\n\ninclude:\n  - template: Auto-DevOps.gitlab-ci.yml\n\nstages:\n  - validate\n  - build\n  - test\n  - review\n  - deploy\n\n# Override Auto DevOps test with HuskyCats validation\ntest:\n  stage: test\n  script:\n    - echo \"\ud83d\udc31 Running HuskyCats comprehensive validation...\"\n    - /workspace/scripts/comprehensive-lint.sh\n    - /workspace/scripts/auto-devops-validation.sh\n    - /workspace/scripts/validate-gitlab-ci-schema.py\n  artifacts:\n    paths:\n      - lint-results.txt\n      - validation-report.json\n    reports:\n      junit: test-results.xml\n    expire_in: 1 week\n  coverage: '/TOTAL.*\\s+(\\d+%)$/'\n```\n\n### Option 2: Include HuskyCats Template\n\n```yaml\n# .gitlab-ci.yml\ninclude:\n  - template: Auto-DevOps.gitlab-ci.yml\n  - remote: 'https://gitlab.com/bates-ils/projects/trustees-portal/sid-controller/huskycats-bates/-/raw/main/.gitlab/ci/husky-validation.yml'\n\nvariables:\n  CI_APPLICATION_REPOSITORY: $CI_REGISTRY_IMAGE\n  CI_APPLICATION_TAG: $CI_COMMIT_SHA\n  TEST_DISABLED: 1  # Use HuskyCats instead\n\n# Add HuskyCats validation before Auto DevOps stages\nhusky:validate:\n  stage: .pre\n  extends: .husky-comprehensive\n```\n\n## \ud83c\udfd7\ufe0f Auto DevOps Integration Patterns\n\n### Pattern 1: Full Auto DevOps with HuskyCats Validation\n\nComplete Auto DevOps pipeline with comprehensive HuskyCats validation:\n\n```yaml\n# Auto DevOps with HuskyCats validation\nvariables:\n  # Auto DevOps core settings\n  CI_APPLICATION_REPOSITORY: $CI_REGISTRY_IMAGE\n  CI_APPLICATION_TAG: $CI_COMMIT_SHA\n  KUBE_NAMESPACE: $CI_PROJECT_NAME-production\n  \n  # Helm deployment settings\n  HELM_UPGRADE_EXTRA_ARGS: \"--timeout=600s --wait\"\n  POSTGRES_ENABLED: false\n  \n  # Disable Auto DevOps features replaced by HuskyCats\n  TEST_DISABLED: 1\n  CODE_QUALITY_DISABLED: 1\n  CONTAINER_SCANNING_DISABLED: 1\n  DEPENDENCY_SCANNING_DISABLED: 1\n  \n  # HuskyCats configuration\n  AUTO_DEVOPS_VALIDATION: \"true\"\n  GITLAB_CI_VALIDATION: \"true\"\n  COMPREHENSIVE_LINT: \"true\"\n\ninclude:\n  - template: Auto-DevOps.gitlab-ci.yml\n\n# Override Auto DevOps test stage with HuskyCats\ntest:\n  stage: test\n  image: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n  script:\n    - echo \"\ud83d\udc31 HuskyCats Auto DevOps Validation Suite\"\n    \n    # 1. Validate GitLab CI configuration\n    - echo \"\ud83d\udd0d Step 1: GitLab CI Schema Validation\"\n    - python3 /workspace/scripts/validate-gitlab-ci-schema.py\n    \n    # 2. Validate Auto DevOps configuration\n    - echo \"\ud83d\udd0d Step 2: Auto DevOps Configuration Validation\"\n    - /workspace/scripts/auto-devops-validation.sh --verbose\n    \n    # 3. Comprehensive code linting\n    - echo \"\ud83d\udd0d Step 3: Comprehensive Code Quality\"\n    - /workspace/scripts/comprehensive-lint.sh --all\n    \n    # 4. Security scanning\n    - echo \"\ud83d\udd0d Step 4: Security Validation\"\n    - /workspace/scripts/security-scan.sh\n    \n    # 5. Generate validation report\n    - echo \"\ud83d\udcca Generating validation report...\"\n    - |\n      cat > validation-summary.json << EOF\n      {\n        \"validation_timestamp\": \"$(date -Iseconds)\",\n        \"project\": \"$CI_PROJECT_NAME\",\n        \"commit\": \"$CI_COMMIT_SHA\",\n        \"branch\": \"$CI_COMMIT_REF_NAME\",\n        \"auto_devops_enabled\": true,\n        \"huskycats_version\": \"$(cat /workspace/VERSION 2>/dev/null || echo 'latest')\",\n        \"validations_passed\": [\n          \"gitlab_ci_schema\",\n          \"auto_devops_config\",\n          \"code_quality\",\n          \"security_scan\"\n        ]\n      }\n      EOF\n  \n  artifacts:\n    paths:\n      - lint-results.txt\n      - validation-summary.json\n      - auto-devops-validation.log\n    reports:\n      junit: test-results.xml\n      coverage_report:\n        coverage_format: cobertura\n        path: coverage.xml\n    expire_in: 1 week\n  \n  # Run on all branches and MRs\n  rules:\n    - if: '$CI_MERGE_REQUEST_ID'\n    - if: '$CI_COMMIT_BRANCH'\n```\n\n### Pattern 2: Staged Validation Pipeline\n\nMulti-stage validation with different levels:\n\n```yaml\n# Staged validation approach\nvariables:\n  CI_APPLICATION_REPOSITORY: $CI_REGISTRY_IMAGE\n  CI_APPLICATION_TAG: $CI_COMMIT_SHA\n\ninclude:\n  - template: Auto-DevOps.gitlab-ci.yml\n\nstages:\n  - quick-check\n  - comprehensive-validate\n  - build\n  - test\n  - review\n  - deploy\n\n# Quick validation for fast feedback\nquick-validate:\n  stage: quick-check\n  image: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n  script:\n    - echo \"\u26a1 Quick HuskyCats validation for fast feedback\"\n    - python3 /workspace/scripts/validate-gitlab-ci-schema.py\n    - /workspace/scripts/comprehensive-lint.sh --staged\n  rules:\n    - if: '$CI_MERGE_REQUEST_ID'\n      changes:\n        - \"**/*.py\"\n        - \"**/*.js\"\n        - \"**/*.ts\"\n        - \"**/*.yml\"\n        - \"**/*.yaml\"\n        - \".gitlab-ci.yml\"\n  allow_failure: false\n\n# Comprehensive validation for main branches\ncomprehensive-validate:\n  stage: comprehensive-validate\n  image: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n  script:\n    - echo \"\ud83d\udd0d Comprehensive HuskyCats validation suite\"\n    - /workspace/scripts/comprehensive-lint.sh --all\n    - /workspace/scripts/auto-devops-validation.sh --verbose\n  artifacts:\n    paths:\n      - lint-results.txt\n      - auto-devops-validation.log\n    expire_in: 1 week\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\" || $CI_COMMIT_BRANCH == \"develop\"'\n    - if: '$CI_MERGE_REQUEST_ID'\n      when: manual\n      allow_failure: true\n\n# Override Auto DevOps test to reference our validation\ntest:\n  stage: test\n  dependencies:\n    - comprehensive-validate\n  script:\n    - echo \"\u2705 HuskyCats validation completed successfully\"\n    - echo \"Proceeding with Auto DevOps deployment...\"\n```\n\n### Pattern 3: Environment-Specific Validation\n\nDifferent validation levels for different environments:\n\n```yaml\n# Environment-specific validation\nvariables:\n  CI_APPLICATION_REPOSITORY: $CI_REGISTRY_IMAGE\n  CI_APPLICATION_TAG: $CI_COMMIT_SHA\n\ninclude:\n  - template: Auto-DevOps.gitlab-ci.yml\n\n# Development environment - basic validation\nvalidate:development:\n  stage: test\n  image: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n  script:\n    - /workspace/scripts/comprehensive-lint.sh --basic\n  environment:\n    name: development\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"develop\"'\n\n# Staging environment - comprehensive validation\nvalidate:staging:\n  stage: test\n  image: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n  script:\n    - /workspace/scripts/comprehensive-lint.sh --all\n    - /workspace/scripts/auto-devops-validation.sh\n  environment:\n    name: staging\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"release/*\"'\n\n# Production environment - full validation + security audit\nvalidate:production:\n  stage: test\n  image: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n  script:\n    - /workspace/scripts/comprehensive-lint.sh --all --strict\n    - /workspace/scripts/auto-devops-validation.sh --strict\n    - /workspace/scripts/security-audit.sh\n  environment:\n    name: production\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\"'\n  when: manual\n  allow_failure: false\n```\n\n## \ud83d\udd27 Auto DevOps Configuration Files\n\n### Helm Values Configuration\n\nCreate environment-specific Helm values files:\n\n```yaml\n# values.yaml (base configuration)\nreplicaCount: 1\n\nimage:\n  repository: placeholder  # Will be overridden by Auto DevOps\n  tag: placeholder         # Will be overridden by Auto DevOps\n  pullPolicy: IfNotPresent\n\nservice:\n  enabled: true\n  type: ClusterIP\n  port: 8080\n\ningress:\n  enabled: true\n  annotations:\n    kubernetes.io/ingress.class: \"nginx\"\n    cert-manager.io/cluster-issuer: \"letsencrypt-prod\"\n  hosts:\n    - host: myapp.example.com\n      paths:\n        - path: /\n          pathType: Prefix\n\nresources:\n  limits:\n    cpu: 200m\n    memory: 256Mi\n  requests:\n    cpu: 100m\n    memory: 128Mi\n\n# Health checks\nlivenessProbe:\n  httpGet:\n    path: /health\n    port: 8080\n  initialDelaySeconds: 30\n  periodSeconds: 10\n\nreadinessProbe:\n  httpGet:\n    path: /ready\n    port: 8080\n  initialDelaySeconds: 5\n  periodSeconds: 5\n\n# PostgreSQL (if needed)\npostgresql:\n  enabled: false\n\n# Redis (if needed)\nredis:\n  enabled: false\n```\n\n```yaml\n# values-production.yaml (production overrides)\nreplicaCount: 3\n\ningress:\n  hosts:\n    - host: myapp.production.com\n      paths:\n        - path: /\n          pathType: Prefix\n\nresources:\n  limits:\n    cpu: 500m\n    memory: 512Mi\n  requests:\n    cpu: 250m\n    memory: 256Mi\n\npostgresql:\n  enabled: true\n  auth:\n    database: myapp_prod\n    username: myapp_user\n  primary:\n    persistence:\n      enabled: true\n      size: 10Gi\n```\n\n```yaml\n# values-staging.yaml (staging overrides)  \nreplicaCount: 2\n\ningress:\n  hosts:\n    - host: myapp.staging.com\n      paths:\n        - path: /\n          pathType: Prefix\n\nresources:\n  limits:\n    cpu: 300m\n    memory: 384Mi\n  requests:\n    cpu: 150m\n    memory: 192Mi\n```\n\n### Kubernetes Manifests\n\nAdditional Kubernetes resources in `k8s/` directory:\n\n```yaml\n# k8s/configmap.yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: myapp-config\n  labels:\n    app: myapp\ndata:\n  config.yaml: |\n    app:\n      name: myapp\n      environment: production\n      debug: false\n    database:\n      pool_size: 10\n      timeout: 30\n```\n\n```yaml\n# k8s/secret.yaml\napiVersion: v1\nkind: Secret\nmetadata:\n  name: myapp-secrets\n  labels:\n    app: myapp\ntype: Opaque\nstringData:\n  database-password: \"REPLACE_IN_PRODUCTION\"\n  api-key: \"REPLACE_IN_PRODUCTION\"\n```\n\n```yaml\n# k8s/networkpolicy.yaml\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: myapp-network-policy\nspec:\n  podSelector:\n    matchLabels:\n      app: myapp\n  policyTypes:\n  - Ingress\n  - Egress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          app: nginx-ingress\n    ports:\n    - protocol: TCP\n      port: 8080\n  egress:\n  - to:\n    - podSelector:\n        matchLabels:\n          app: postgresql\n    ports:\n    - protocol: TCP\n      port: 5432\n```\n\n## \ud83d\udcca HuskyCats Validation Features\n\n### GitLab CI Schema Validation\n\nHuskyCats includes official GitLab CI schema validation:\n\n```bash\n# Validate .gitlab-ci.yml against official GitLab schema\npython3 /workspace/scripts/validate-gitlab-ci-schema.py\n\n# Output example:\n# \u2705 .gitlab-ci.yml is valid according to GitLab CI schema\n# \u2139\ufe0f  Using cached GitLab CI schema\n# \u2139\ufe0f  Found 1 GitLab CI file(s)\n```\n\n### Auto DevOps Configuration Validation\n\nComprehensive validation of Auto DevOps setup:\n\n```bash\n# Validate Auto DevOps configuration\n/workspace/scripts/auto-devops-validation.sh --verbose\n\n# Checks performed:\n# - GitLab CI Auto DevOps template inclusion\n# - Required environment variables\n# - Helm values file syntax\n# - Kubernetes manifest validation\n# - Auto Deploy Image chart simulation\n```\n\n### Code Quality Validation\n\nMulti-language linting and quality checks:\n\n```bash\n# Run comprehensive linting\n/workspace/scripts/comprehensive-lint.sh --all\n\n# Includes:\n# - Python (Black, Flake8, MyPy, Pylint, Bandit)\n# - JavaScript/TypeScript (ESLint, Prettier)\n# - Shell scripts (ShellCheck)\n# - Docker files (Hadolint)\n# - YAML files (yamllint)\n# - Ansible playbooks (ansible-lint)\n```\n\n### Security Scanning\n\nBuilt-in security validation:\n\n```bash\n# Security scanning\n/workspace/scripts/security-scan.sh\n\n# Includes:\n# - Python dependency security (Safety, Bandit)\n# - JavaScript dependency audit (npm audit)\n# - Secret detection\n# - Container security scanning\n```\n\n## \ud83d\udea8 Troubleshooting Guide\n\n### Common Auto DevOps Issues\n\n#### 1. \"Application not accessible after deployment\"\n\n```yaml\n# Check service and ingress configuration\n# values.yaml\nservice:\n  enabled: true\n  type: ClusterIP\n  port: 8080        # Make sure this matches your app port\n\ningress:\n  enabled: true\n  annotations:\n    kubernetes.io/ingress.class: \"nginx\"  # Verify ingress class\n  hosts:\n    - host: myapp.example.com  # Ensure DNS is configured\n      paths:\n        - path: /\n          pathType: Prefix\n```\n\n#### 2. \"Helm deployment failed\"\n\n```bash\n# Debug Helm template generation\nhelm template my-app ~/.cache/huskycats/auto-deploy-image/assets/auto-deploy-app \\\n  -f values.yaml \\\n  --set application.repository=$CI_APPLICATION_REPOSITORY \\\n  --set application.tag=$CI_APPLICATION_TAG \\\n  --debug\n```\n\n#### 3. \"Container fails to start\"\n\n```yaml\n# Add proper health checks and resource limits\n# values.yaml\nlivenessProbe:\n  httpGet:\n    path: /health\n    port: 8080\n  initialDelaySeconds: 60  # Increase if app takes time to start\n  periodSeconds: 10\n\nreadinessProbe:\n  httpGet:\n    path: /ready\n    port: 8080\n  initialDelaySeconds: 10\n  periodSeconds: 5\n\nresources:\n  limits:\n    memory: 512Mi      # Ensure adequate memory\n    cpu: 500m\n  requests:\n    memory: 256Mi\n    cpu: 250m\n```\n\n### HuskyCats Validation Issues\n\n#### 1. \"GitLab CI schema validation failed\"\n\n```bash\n# Check for common YAML syntax errors\npython3 /workspace/scripts/validate-gitlab-ci-schema.py\n\n# Common fixes:\n# - Ensure proper YAML indentation\n# - Use arrays for scripts, not objects\n# - Check for typos in keywords\n```\n\n#### 2. \"Auto DevOps validation failed\"\n\n```bash\n# Run validation with verbose output\n/workspace/scripts/auto-devops-validation.sh --verbose\n\n# Check:\n# - CI_APPLICATION_REPOSITORY is set\n# - CI_APPLICATION_TAG is set\n# - Helm values files have valid YAML syntax\n# - Required environment variables are configured\n```\n\n#### 3. \"Permission denied in CI\"\n\n```yaml\n# Add proper permissions in before_script\nbefore_script:\n  - chmod +x /workspace/scripts/*.sh\n  - chown -R root:root /workspace\n```\n\n## \ud83d\udcc8 Performance Optimization\n\n### CI Pipeline Optimization\n\n```yaml\n# Optimize pipeline performance\nvariables:\n  # Use shallow clones for faster checkout\n  GIT_DEPTH: 10\n  \n  # Enable parallel job execution\n  PARALLEL_JOBS: 4\n  \n  # Use caching effectively\n  PIP_CACHE_DIR: \"$CI_PROJECT_DIR/.cache/pip\"\n  npm_config_cache: \"$CI_PROJECT_DIR/.cache/npm\"\n\ncache:\n  key:\n    files:\n      - requirements.txt\n      - package-lock.json\n  paths:\n    - .cache/pip\n    - .cache/npm\n    - node_modules/\n  policy: pull-push\n\n# Use specific stages for better parallelization\nstages:\n  - pre-validate    # Quick checks\n  - validate        # Comprehensive validation  \n  - build          # Auto DevOps build\n  - test           # Auto DevOps test\n  - review         # Auto DevOps review\n  - deploy         # Auto DevOps deploy\n```\n\n### Container Optimization\n\n```dockerfile\n# Optimized Dockerfile for Auto DevOps\nFROM node:18-alpine AS builder\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci --only=production && npm cache clean --force\n\nFROM node:18-alpine AS runtime\nRUN addgroup -g 1001 -S nodejs && adduser -S app -u 1001\nWORKDIR /app\nCOPY --from=builder --chown=app:nodejs /app/node_modules ./node_modules\nCOPY --chown=app:nodejs . .\nUSER app\nEXPOSE 8080\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n  CMD curl -f http://localhost:8080/health || exit 1\nCMD [\"npm\", \"start\"]\n```\n\n## \ud83d\udcda Advanced Use Cases\n\n### Multi-Service Application\n\n```yaml\n# .gitlab-ci.yml for microservices\nvariables:\n  CI_APPLICATION_REPOSITORY: $CI_REGISTRY_IMAGE\n  CI_APPLICATION_TAG: $CI_COMMIT_SHA\n\ninclude:\n  - template: Auto-DevOps.gitlab-ci.yml\n\n# Validate each service\nvalidate:service-a:\n  stage: test\n  image: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n  script:\n    - cd services/service-a\n    - /workspace/scripts/comprehensive-lint.sh\n    - /workspace/scripts/auto-devops-validation.sh\n  rules:\n    - changes:\n        - \"services/service-a/**/*\"\n\nvalidate:service-b:\n  stage: test\n  image: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n  script:\n    - cd services/service-b\n    - /workspace/scripts/comprehensive-lint.sh\n    - /workspace/scripts/auto-devops-validation.sh\n  rules:\n    - changes:\n        - \"services/service-b/**/*\"\n\n# Deploy services independently\ndeploy:service-a:\n  extends: .auto-deploy\n  variables:\n    CI_APPLICATION_REPOSITORY: $CI_REGISTRY_IMAGE/service-a\n    KUBE_NAMESPACE: $CI_PROJECT_NAME-service-a\n  rules:\n    - changes:\n        - \"services/service-a/**/*\"\n\ndeploy:service-b:\n  extends: .auto-deploy\n  variables:\n    CI_APPLICATION_REPOSITORY: $CI_REGISTRY_IMAGE/service-b\n    KUBE_NAMESPACE: $CI_PROJECT_NAME-service-b\n  rules:\n    - changes:\n        - \"services/service-b/**/*\"\n```\n\n### Blue-Green Deployment\n\n```yaml\n# Blue-green deployment with HuskyCats validation\nvariables:\n  CI_APPLICATION_REPOSITORY: $CI_REGISTRY_IMAGE\n  CI_APPLICATION_TAG: $CI_COMMIT_SHA\n  AUTO_DEVOPS_DEPLOY_DEBUG: 1\n\ninclude:\n  - template: Auto-DevOps.gitlab-ci.yml\n\n# Comprehensive validation before blue-green deploy\nvalidate:production:\n  stage: test\n  image: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n  script:\n    - echo \"\ud83d\udd0d Production validation suite\"\n    - /workspace/scripts/comprehensive-lint.sh --all --strict\n    - /workspace/scripts/auto-devops-validation.sh --strict\n    - /workspace/scripts/security-audit.sh --production\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\"'\n  allow_failure: false\n\n# Blue deployment (current production)\ndeploy:blue:\n  extends: .auto-deploy\n  stage: production\n  environment:\n    name: production-blue\n    url: http://blue.myapp.example.com\n  variables:\n    KUBE_NAMESPACE: $CI_PROJECT_NAME-blue\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\"'\n  when: manual\n\n# Green deployment (new version)  \ndeploy:green:\n  extends: .auto-deploy\n  stage: production  \n  environment:\n    name: production-green\n    url: http://green.myapp.example.com\n  variables:\n    KUBE_NAMESPACE: $CI_PROJECT_NAME-green\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\"'\n  when: manual\n\n# Switch traffic to green\nswitch:traffic:\n  stage: production\n  image: kubectl:latest\n  script:\n    - echo \"Switching traffic from blue to green\"\n    - kubectl patch service myapp-service -p '{\"spec\":{\"selector\":{\"version\":\"green\"}}}'\n  environment:\n    name: production\n    url: http://myapp.example.com\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\"'\n  when: manual\n  needs:\n    - deploy:green\n```\n\n## \ud83d\udd17 Integration Templates\n\n### Template Library\n\nCreate reusable templates in `.gitlab/ci/` directory:\n\n```yaml\n# .gitlab/ci/huskycats-validation.yml\n.husky-base:\n  image: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n  before_script:\n    - chmod +x /workspace/scripts/*.sh\n\n.husky-quick:\n  extends: .husky-base\n  script:\n    - /workspace/scripts/comprehensive-lint.sh --staged\n\n.husky-comprehensive:\n  extends: .husky-base\n  script:\n    - /workspace/scripts/comprehensive-lint.sh --all\n    - /workspace/scripts/auto-devops-validation.sh\n    - python3 /workspace/scripts/validate-gitlab-ci-schema.py\n  artifacts:\n    paths:\n      - lint-results.txt\n      - validation-report.json\n    expire_in: 1 week\n\n.husky-security:\n  extends: .husky-base\n  script:\n    - /workspace/scripts/security-scan.sh\n    - /workspace/scripts/comprehensive-lint.sh --security-only\n```\n\n### Project Integration\n\n```yaml\n# Use templates in your project\ninclude:\n  - template: Auto-DevOps.gitlab-ci.yml\n  - local: '.gitlab/ci/huskycats-validation.yml'\n\n# Quick validation for merge requests\nhusky:quick:\n  extends: .husky-quick\n  stage: .pre\n  rules:\n    - if: '$CI_MERGE_REQUEST_ID'\n\n# Comprehensive validation for main branches\nhusky:comprehensive:\n  extends: .husky-comprehensive\n  stage: test\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\" || $CI_COMMIT_BRANCH == \"develop\"'\n\n# Security validation for production\nhusky:security:\n  extends: .husky-security\n  stage: test\n  rules:\n    - if: '$CI_COMMIT_BRANCH == \"main\"'\n  allow_failure: false\n```\n\n## \ud83d\udccb Migration Checklist\n\n### From Manual CI to Auto DevOps + HuskyCats\n\n- [ ] **Configure Auto DevOps variables**\n  - [ ] Set `CI_APPLICATION_REPOSITORY`\n  - [ ] Set `CI_APPLICATION_TAG`\n  - [ ] Configure environment-specific variables\n\n- [ ] **Create Helm values files**\n  - [ ] `values.yaml` (base configuration)\n  - [ ] `values-staging.yaml` (staging overrides)\n  - [ ] `values-production.yaml` (production overrides)\n\n- [ ] **Configure Kubernetes resources**\n  - [ ] Create `k8s/` directory for additional manifests\n  - [ ] Add ConfigMaps, Secrets, NetworkPolicies as needed\n  - [ ] Configure proper resource limits and health checks\n\n- [ ] **Update .gitlab-ci.yml**\n  - [ ] Include Auto DevOps template\n  - [ ] Add HuskyCats validation jobs\n  - [ ] Configure proper stages and rules\n\n- [ ] **Test the pipeline**\n  - [ ] Test on feature branch\n  - [ ] Test merge request pipeline\n  - [ ] Test deployment to staging\n  - [ ] Test deployment to production\n\n- [ ] **Monitor and optimize**\n  - [ ] Review pipeline performance\n  - [ ] Optimize caching\n  - [ ] Fine-tune validation rules\n\n## \ud83c\udf89 Benefits Summary\n\n### HuskyCats + Auto DevOps Benefits\n\n1. **\ud83d\ude80 Faster Development**\n   - Pre-built container with all tools\n   - No setup time for linting/validation\n   - Automated deployments\n\n2. **\ud83d\udd12 Better Security**\n   - Comprehensive security scanning\n   - Dependency vulnerability checks\n   - Secret detection\n\n3. **\ud83d\udccf Consistent Quality**\n   - Same validation locally and in CI\n   - Multi-language linting\n   - Official GitLab CI schema validation\n\n4. **\ud83d\udd04 Simplified Operations**\n   - Automated Kubernetes deployments\n   - Environment-specific configurations\n   - Built-in monitoring and health checks\n\n5. **\ud83d\udcca Better Visibility**\n   - Comprehensive validation reports\n   - Quality metrics and trends\n   - Clear failure reasons\n\n## \ud83d\udcda Additional Resources\n\n- [GitLab Auto DevOps Documentation](https://docs.gitlab.com/ee/topics/autodevops/)\n- [Auto Deploy Image Repository](https://gitlab.com/gitlab-org/cluster-integration/auto-deploy-image)\n- [HuskyCat Installation Guide](installation.md)\n- [HuskyCat Configuration](configuration.md)\n- [Kubernetes Best Practices](https://kubernetes.io/docs/concepts/configuration/overview/)\n- [Helm Chart Development](https://helm.sh/docs/chart_best_practices/)\n\n---\n\n**Need help?** Check the troubleshooting section above or create an issue in the HuskyCats repository.",
      "word_count": 2345
    },
    {
      "title": "MCP Server",
      "path": "/features/mcp-server/",
      "url": "https://tinyland.gitlab.io/ai/huskycat/features/mcp-server/",
      "source_file": "docs/features/mcp-server.md",
      "content": "# MCP Server Integration\n\nHuskyCat includes a built-in **stdio-based MCP Server** with container-backed validation tools, enabling AI-powered code quality feedback through Claude Code integration.\n\n## What is MCP?\n\nThe Model Context Protocol (MCP) is an open standard that allows AI assistants like Claude to connect with external tools and data sources. HuskyCat's MCP server exposes its validation capabilities as tools that Claude Code can use.\n\n## Quick Setup\n\n### 1. Build HuskyCat\n\n```bash\ngit clone <repository>\ncd huskycats-bates\nnpm install\nuv sync --dev\n\n# Build container (required for validation)\nnpm run container:build\n\n# Build binary entry point  \nnpm run build:binary\n```\n\n### 2. Configure Claude Code MCP\n\nAdd to Claude Code MCP configuration:\n```json\n{\n  \"mcpServers\": {\n    \"huskycat\": {\n      \"command\": \"/path/to/huskycat\",\n      \"args\": [\"mcp-server\"]\n    }\n  }\n}\n```\n\n**Note**: HuskyCat uses stdio protocol by default - no port needed.\n\n### 3. Verify Installation\n\nIn Claude Code, you should now see HuskyCat tools available:\n\n- `validate` - Validate files or directories\n- `validate_staged` - Validate staged Git files\n- Individual validator tools (e.g., `validate_python-black`, `validate_flake8`, `validate_mypy`)\n\n## Available Tools\n\n### Core Tools\n\n#### `validate`\nValidates files or directories with all applicable validators.\n\n**Parameters:**\n- `path` (required): File or directory path to validate\n- `fix` (optional): Auto-fix issues where possible (default: false)\n\n**Example usage in Claude Code:**\n```\nPlease validate the Python files in my src/ directory and fix any issues.\n```\n\n#### `validate_staged`\nValidates files staged for Git commit.\n\n**Parameters:**\n- `fix` (optional): Auto-fix issues where possible (default: false)\n\n**Example usage in Claude Code:**\n```\nCheck my staged files before I commit them.\n```\n\n### Individual Validator Tools\n\nEach validator has its own tool for targeted validation:\n\n- `validate_python-black` - Python code formatting\n- `validate_autoflake` - Python unused import removal\n- `validate_flake8` - Python linting\n- `validate_mypy` - Python type checking\n- `validate_ruff` - Python fast linting\n- `validate_bandit` - Python security scanning\n- `validate_js-eslint` - JavaScript/TypeScript linting\n- `validate_js-prettier` - JavaScript/TypeScript formatting\n- `validate_yamllint` - YAML validation\n- `validate_docker-hadolint` - Dockerfile validation\n- `validate_shellcheck` - Shell script validation\n- `validate_gitlab-ci` - GitLab CI validation\n\n**Parameters:**\n- `path` (required): File path to validate\n- `fix` (optional): Auto-fix issues where possible (default: false)\n\n## Architecture\n\n```mermaid\nsequenceDiagram\n    participant CC as Claude Code\n    participant MCP as MCP Server\n    participant VE as Validation Engine\n    participant V as Validators\n    \n    CC->>MCP: tool call (validate)\n    MCP->>VE: validate_file/directory\n    VE->>V: run validators\n    V->>VE: results\n    VE->>MCP: aggregated results\n    MCP->>CC: formatted response\n```\n\n## Example Workflows\n\n### 1. Pre-Commit Validation\n\nIn Claude Code:\n```\nI'm about to commit my changes. Can you validate my staged files and fix any issues?\n```\n\nThis will:\n1. Run `validate_staged` with `fix: true`\n2. Show you exactly what was validated\n3. Apply auto-fixes where possible\n4. Report any remaining issues\n\n### 2. Directory Validation\n\nIn Claude Code:\n```\nPlease check all Python files in my project for type errors and style issues.\n```\n\nThis will:\n1. Run `validate` on your project directory\n2. Focus on Python files\n3. Run MyPy, Black, Flake8, and Ruff\n4. Provide a detailed report\n\n### 3. Specific Tool Validation\n\nIn Claude Code:\n```\nRun ESLint on my main.js file and fix any issues.\n```\n\nThis will:\n1. Run `validate_eslint` with `fix: true`\n2. Apply ESLint auto-fixes\n3. Report the results\n\n## Configuration\n\n### MCP Server Settings\n\nThe MCP server reads the same configuration as the CLI tool. You can customize validation behavior through:\n\n1. **Project configuration** (pyproject.toml, .flake8, etc.)\n2. **Environment variables** (HUSKYCAT_LOG_LEVEL, etc.)\n3. **Tool parameters** (passed through MCP calls)\n\n### Logging\n\nMCP server logs are written to stderr to avoid interfering with the stdio protocol. Set the log level:\n\n```bash\nHUSKYCAT_LOG_LEVEL=DEBUG claude mcp add huskycat \"huskycat mcp-server\"\n```\n\n## Advanced Usage\n\n### Custom Validation Workflows\n\nYou can combine multiple MCP tools in Claude Code workflows:\n\n```\n1. First, validate my Python code with Black and fix formatting\n2. Then run MyPy for type checking\n3. Finally, validate my YAML configuration files\n```\n\n### Integration with Git Hooks\n\nThe MCP server works seamlessly with Git hooks. You can:\n\n1. Validate staged files before committing\n2. Set up pre-push validation\n3. Integrate with CI/CD workflows\n\n### Container-Only Validation\n\nThe MCP server uses container-only execution for all validation:\n\n```bash\n# All validation automatically runs in containers\n./dist/huskycat mcp-server  # Uses container internally\n\n# Verify container is working\nnpm run container:test\n```\n\n**Benefits**:\n- Consistent toolchain across environments\n- Repository isolation and safety\n- No missing tool dependencies\n\n## Troubleshooting\n\n### Common Issues\n\n1. **Tool not found**: Ensure HuskyCat is properly installed and in your PATH\n2. **Permission errors**: Check file permissions and directory access\n3. **Python not found**: Some validators require Python to be installed\n\n### Debug Mode\n\nEnable verbose logging for troubleshooting:\n\n```bash\nHUSKYCAT_LOG_LEVEL=DEBUG huskycat mcp-server\n```\n\n### Manual Testing\n\nTest the MCP server manually:\n\n```bash\n# Start the server\nhuskycat mcp-server\n\n# Send a test request (JSON-RPC format)\necho '{\"jsonrpc\":\"2.0\",\"method\":\"initialize\",\"params\":{},\"id\":1}' | huskycat mcp-server\n```\n\n## Technical Details\n\n### Protocol Compliance\n\nHuskyCat's MCP server implements MCP version 2024-11-05 and supports:\n\n- Tool discovery and invocation\n- JSON-RPC 2.0 communication\n- Error handling and reporting\n- Structured result formatting\n\n### Performance\n\n- **Fast startup**: < 100ms initialization time\n- **Efficient validation**: Parallel execution of validators\n- **Smart caching**: Avoid re-running unchanged validators\n- **Resource management**: Automatic cleanup and memory management\n\n### Security\n\n- **Sandboxed execution**: Validators run in controlled environments\n- **Path validation**: Prevent directory traversal attacks\n- **Input sanitization**: Clean and validate all inputs\n- **Error isolation**: Failures don't crash the server\n\n## API Reference\n\nFor complete API documentation, see our [MCP Tools API Reference](../api/mcp-tools.md).\n\n---\n\nThe MCP server integration makes HuskyCat incredibly powerful when combined with Claude Code's AI capabilities, enabling intelligent code validation workflows that adapt to your specific needs.",
      "word_count": 951
    },
    {
      "title": "MCP Tools",
      "path": "/api/mcp-tools/",
      "url": "https://tinyland.gitlab.io/ai/huskycat/api/mcp-tools/",
      "source_file": "docs/api/mcp-tools.md",
      "content": "# MCP Tools API Reference\n\nThis document provides detailed API specifications for all MCP tools exposed by HuskyCat's MCP server.\n\n## Tool Discovery\n\nThe MCP server exposes tools through the standard `tools/list` method.\n\n### Request\n```json\n{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"tools/list\",\n  \"id\": 1\n}\n```\n\n### Response\n```json\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"result\": {\n    \"tools\": [\n      {\n        \"name\": \"validate\",\n        \"description\": \"Validate code files with appropriate linters\",\n        \"inputSchema\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"path\": {\n              \"type\": \"string\",\n              \"description\": \"File or directory path to validate\"\n            },\n            \"fix\": {\n              \"type\": \"boolean\",\n              \"description\": \"Auto-fix issues where possible\",\n              \"default\": false\n            }\n          },\n          \"required\": [\"path\"]\n        }\n      }\n      // ... other tools\n    ]\n  }\n}\n```\n\n## Core Tools\n\n### `validate`\n\nUniversal validation tool that runs all applicable validators on the specified path.\n\n#### Input Schema\n```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"path\": {\n      \"type\": \"string\",\n      \"description\": \"File or directory path to validate\"\n    },\n    \"fix\": {\n      \"type\": \"boolean\",\n      \"description\": \"Auto-fix issues where possible\",\n      \"default\": false\n    }\n  },\n  \"required\": [\"path\"]\n}\n```\n\n#### Example Request\n```json\n{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"validate\",\n    \"arguments\": {\n      \"path\": \"src/\",\n      \"fix\": true\n    }\n  },\n  \"id\": 2\n}\n```\n\n#### Example Response\n```json\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 2,\n  \"result\": {\n    \"content\": [\n      {\n        \"type\": \"text\",\n        \"text\": \"{\\n  \\\"summary\\\": {\\n    \\\"total_files\\\": 5,\\n    \\\"passed_files\\\": 4,\\n    \\\"failed_files\\\": 1,\\n    \\\"total_errors\\\": 2,\\n    \\\"total_warnings\\\": 1,\\n    \\\"failed_file_list\\\": [\\\"src/main.py\\\"],\\n    \\\"success\\\": false\\n  },\\n  \\\"results\\\": {\\n    \\\"src/main.py\\\": [\\n      {\\n        \\\"tool\\\": \\\"black\\\",\\n        \\\"filepath\\\": \\\"src/main.py\\\",\\n        \\\"success\\\": false,\\n        \\\"messages\\\": [\\\"reformatted src/main.py\\\"],\\n        \\\"errors\\\": [],\\n        \\\"warnings\\\": [],\\n        \\\"fixed\\\": true,\\n        \\\"duration_ms\\\": 45\\n      }\\n    ]\\n  }\\n}\"\n      }\n    ]\n  }\n}\n```\n\n### `validate_staged`\n\nValidates files that are staged for Git commit.\n\n#### Input Schema\n```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"fix\": {\n      \"type\": \"boolean\",\n      \"description\": \"Auto-fix issues where possible\",\n      \"default\": false\n    }\n  }\n}\n```\n\n#### Example Request\n```json\n{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"validate_staged\",\n    \"arguments\": {\n      \"fix\": false\n    }\n  },\n  \"id\": 3\n}\n```\n\n## Individual Validator Tools\n\nEach validator is exposed as a separate tool for targeted validation. The tool name follows the pattern `validate_{validator_name}`.\n\n### `validate_python-black`\n\nPython code formatter using Black.\n\n#### Input Schema\n```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"path\": {\n      \"type\": \"string\",\n      \"description\": \"Python file path to format\"\n    },\n    \"fix\": {\n      \"type\": \"boolean\",\n      \"description\": \"Apply Black formatting\",\n      \"default\": false\n    }\n  },\n  \"required\": [\"path\"]\n}\n```\n\n### `validate_flake8`\n\nPython linter using Flake8.\n\n#### Input Schema\n```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"path\": {\n      \"type\": \"string\",\n      \"description\": \"Python file path to lint\"\n    },\n    \"fix\": {\n      \"type\": \"boolean\",\n      \"description\": \"Auto-fix issues where possible\",\n      \"default\": false\n    }\n  },\n  \"required\": [\"path\"]\n}\n```\n\n### `validate_mypy`\n\nPython type checker using MyPy.\n\n#### Input Schema\n```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"path\": {\n      \"type\": \"string\",\n      \"description\": \"Python file path to type check\"\n    },\n    \"fix\": {\n      \"type\": \"boolean\",\n      \"description\": \"Auto-fix issues where possible\",\n      \"default\": false\n    }\n  },\n  \"required\": [\"path\"]\n}\n```\n\n### `validate_js-eslint`\n\nJavaScript/TypeScript linter using ESLint.\n\n#### Input Schema\n```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"path\": {\n      \"type\": \"string\",\n      \"description\": \"JavaScript/TypeScript file path to lint\"\n    },\n    \"fix\": {\n      \"type\": \"boolean\",\n      \"description\": \"Apply ESLint fixes\",\n      \"default\": false\n    }\n  },\n  \"required\": [\"path\"]\n}\n```\n\n### `validate_yamllint`\n\nYAML validator using yamllint.\n\n#### Input Schema\n```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"path\": {\n      \"type\": \"string\",\n      \"description\": \"YAML file path to validate\"\n    },\n    \"fix\": {\n      \"type\": \"boolean\",\n      \"description\": \"Auto-fix issues where possible\",\n      \"default\": false\n    }\n  },\n  \"required\": [\"path\"]\n}\n```\n\n### `validate_docker-hadolint`\n\nDockerfile/ContainerFile linter using hadolint.\n\n#### Input Schema\n```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"path\": {\n      \"type\": \"string\",\n      \"description\": \"Dockerfile path to validate\"\n    },\n    \"fix\": {\n      \"type\": \"boolean\",\n      \"description\": \"Auto-fix issues where possible\",\n      \"default\": false\n    }\n  },\n  \"required\": [\"path\"]\n}\n```\n\n### `validate_shellcheck`\n\nShell script validator using shellcheck.\n\n#### Input Schema\n```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"path\": {\n      \"type\": \"string\",\n      \"description\": \"Shell script path to validate\"\n    },\n    \"fix\": {\n      \"type\": \"boolean\",\n      \"description\": \"Auto-fix issues where possible\",\n      \"default\": false\n    }\n  },\n  \"required\": [\"path\"]\n}\n```\n\n## Response Format\n\nAll tools return responses in the same format:\n\n### Success Response\n```json\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": \"<request_id>\",\n  \"result\": {\n    \"content\": [\n      {\n        \"type\": \"text\",\n        \"text\": \"<JSON_formatted_results>\"\n      }\n    ]\n  }\n}\n```\n\n### Error Response\n```json\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": \"<request_id>\",\n  \"error\": {\n    \"code\": -32603,\n    \"message\": \"Internal error: <error_description>\"\n  }\n}\n```\n\n## Result Objects\n\n### ValidationResult\n\nIndividual validation results are returned as `ValidationResult` objects:\n\n```json\n{\n  \"tool\": \"black\",\n  \"filepath\": \"src/main.py\",\n  \"success\": true,\n  \"messages\": [\"File is properly formatted\"],\n  \"errors\": [],\n  \"warnings\": [],\n  \"fixed\": false,\n  \"duration_ms\": 42\n}\n```\n\n#### Fields\n\n- `tool`: Name of the validator that produced this result\n- `filepath`: Path to the validated file\n- `success`: Whether validation passed (no errors)\n- `messages`: General messages from the validator\n- `errors`: List of error messages (validation failures)\n- `warnings`: List of warning messages (non-blocking issues)\n- `fixed`: Whether auto-fixes were applied\n- `duration_ms`: Time taken for validation in milliseconds\n\n### Summary Object\n\nAggregate summary of all validation results:\n\n```json\n{\n  \"total_files\": 5,\n  \"passed_files\": 4,\n  \"failed_files\": 1,\n  \"total_errors\": 2,\n  \"total_warnings\": 1,\n  \"failed_file_list\": [\"src/main.py\"],\n  \"success\": false\n}\n```\n\n#### Fields\n\n- `total_files`: Total number of files validated\n- `passed_files`: Number of files that passed all validators\n- `failed_files`: Number of files with at least one validation error\n- `total_errors`: Total count of all errors across all files\n- `total_warnings`: Total count of all warnings across all files\n- `failed_file_list`: List of file paths that have validation errors\n- `success`: Overall validation status (true if no files failed)\n\n## Error Codes\n\nThe MCP server uses standard JSON-RPC error codes:\n\n| Code | Meaning | Description |\n|------|---------|-------------|\n| -32700 | Parse error | Invalid JSON was received |\n| -32600 | Invalid Request | The JSON sent is not a valid Request object |\n| -32601 | Method not found | The method does not exist / is not available |\n| -32602 | Invalid params | Invalid method parameter(s) |\n| -32603 | Internal error | Internal JSON-RPC error |\n\n## Rate Limiting\n\nThe MCP server does not implement rate limiting, but individual validators may have their own performance characteristics:\n\n- **Fast validators** (< 100ms): Black, yamllint, shellcheck\n- **Medium validators** (100-500ms): Flake8, ESLint\n- **Slow validators** (> 500ms): MyPy (especially on large codebases)\n\n## Debugging\n\n### Enable Debug Logging\n\nSet the environment variable before starting the MCP server:\n\n```bash\nHUSKYCAT_LOG_LEVEL=DEBUG huskycat mcp-server\n```\n\n### Manual Testing\n\nYou can test the MCP server manually using stdin/stdout:\n\n```bash\n# Start the server\nhuskycat mcp-server\n\n# Send initialization request\necho '{\"jsonrpc\":\"2.0\",\"method\":\"initialize\",\"params\":{},\"id\":1}'\n\n# List tools\necho '{\"jsonrpc\":\"2.0\",\"method\":\"tools/list\",\"params\":{},\"id\":2}'\n\n# Call a tool\necho '{\"jsonrpc\":\"2.0\",\"method\":\"tools/call\",\"params\":{\"name\":\"validate\",\"arguments\":{\"path\":\".\"}},\"id\":3}'\n```\n\n---\n\nFor more information about MCP integration, see the [MCP Server Guide](../features/mcp-server.md).",
      "word_count": 1081
    },
    {
      "title": "Troubleshooting",
      "path": "/troubleshooting/",
      "url": "https://tinyland.gitlab.io/ai/huskycat/troubleshooting/",
      "source_file": "docs/troubleshooting.md",
      "content": "# Troubleshooting Guide\n\nCommon issues and solutions for HuskyCat.\n\n## Installation Issues\n\n### Binary Download Fails\n\n**Problem:** `curl` command fails or times out\n\n**Solutions:**\n\n```bash\n# Use wget instead of curl\nwget -O huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n\n# Use verbose mode to see what's failing\ncurl -v -L -o huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n\n# Check network connectivity\nping gitlab.com\n```\n\n### \"Permission denied\" When Running Binary\n\n**Problem:** Binary downloads but won't execute\n\n**Solutions:**\n\n```bash\n# Make binary executable\nchmod +x huskycat\n\n# Check file permissions\nls -l huskycat\n\n# Move to a directory with execute permissions\nmkdir -p ~/.local/bin\nmv huskycat ~/.local/bin/\n```\n\n### macOS \"Cannot verify developer\" Warning\n\n**Problem:** macOS blocks unsigned binary\n\n**Solutions:**\n\n```bash\n# Method 1: Remove quarantine attribute\nxattr -d com.apple.quarantine huskycat\n\n# Method 2: Allow in System Settings\n# 1. Try to run binary: ./huskycat\n# 2. Go to System Settings > Privacy & Security\n# 3. Click \"Allow Anyway\" next to the huskycat warning\n# 4. Run binary again and click \"Open\"\n\n# Method 3: Disable Gatekeeper temporarily (not recommended)\nsudo spctl --master-disable\n./huskycat --version\nsudo spctl --master-enable\n```\n\n### Binary Not Found After Installation\n\n**Problem:** `huskycat: command not found`\n\n**Solutions:**\n\n```bash\n# Check if binary exists\nls -l ~/.local/bin/huskycat\n\n# Check if directory is in PATH\necho $PATH | grep -q \"$HOME/.local/bin\" && echo \"\u2713 In PATH\" || echo \"\u2717 Not in PATH\"\n\n# Add to PATH (bash)\necho 'export PATH=\"$HOME/.local/bin:$PATH\"' >> ~/.bashrc\nsource ~/.bashrc\n\n# Add to PATH (zsh)\necho 'export PATH=\"$HOME/.local/bin:$PATH\"' >> ~/.zshrc\nsource ~/.zshrc\n\n# Use full path temporarily\n~/.local/bin/huskycat --version\n```\n\n---\n\n## Container Runtime Issues\n\n### \"No container runtime available\"\n\n**Problem:** HuskyCat can't find Podman or Docker\n\n**Solutions:**\n\n```bash\n# Check if container runtime is installed\nwhich podman || which docker\n\n# Install Podman (recommended)\n# macOS:\nbrew install podman\n\n# Ubuntu/Debian:\nsudo apt-get update && sudo apt-get install -y podman\n\n# Rocky Linux/RHEL:\nsudo dnf install -y podman\n\n# Verify installation\npodman --version\n# or\ndocker --version\n```\n\n### Podman Machine Not Started (macOS)\n\n**Problem:** `Error: unable to connect to Podman socket`\n\n**Solutions:**\n\n```bash\n# Initialize Podman machine\npodman machine init\n\n# Start Podman machine\npodman machine start\n\n# Check status\npodman machine list\n\n# Restart if needed\npodman machine stop\npodman machine start\n```\n\n### Docker Permission Denied (Linux)\n\n**Problem:** `permission denied while trying to connect to the Docker daemon socket`\n\n**Solutions:**\n\n```bash\n# Method 1: Add user to docker group (recommended)\nsudo usermod -aG docker $USER\nnewgrp docker\n\n# Method 2: Use sudo (not recommended for regular use)\nsudo huskycat validate\n\n# Method 3: Use Podman instead (rootless)\nbrew install podman  # or apt/dnf install\n```\n\n### Container Build Fails\n\n**Problem:** `npm run container:build` fails\n\n**Solutions:**\n\n```bash\n# Check Podman/Docker is working\npodman run --rm hello-world\n# or\ndocker run --rm hello-world\n\n# Clean build cache\npodman system prune -a\n# or\ndocker system prune -a\n\n# Rebuild with verbose output\npodman build -t huskycat-validator:latest -f ContainerFile . --no-cache\n```\n\n---\n\n## Validation Issues\n\n### \"Tool not found\" Errors\n\n**Problem:** Validator reports missing tool\n\n**Solutions:**\n\n```bash\n# HuskyCat should run tools in containers - this usually means container runtime issues\n# Check container is working\nhuskycat status\n\n# Rebuild validation container\ncd /path/to/huskycats-bates\nnpm run container:build\n\n# Verify container has tools\npodman run --rm huskycat-validator:latest black --version\n```\n\n### Validation Hangs or Times Out\n\n**Problem:** Validation never completes\n\n**Solutions:**\n\n```bash\n# Run with verbose logging\nHUSKYCAT_LOG_LEVEL=DEBUG huskycat validate\n\n# Check which file is causing the hang\nhuskycat validate --verbose src/\n\n# Skip slow validators temporarily\nhuskycat validate --skip-validator mypy\n\n# Increase timeout (if configurable)\nexport HUSKYCAT_TIMEOUT=300\n```\n\n### False Positive Errors\n\n**Problem:** Validator reports errors that aren't real issues\n\n**Solutions:**\n\n```bash\n# Check tool-specific configuration\ncat pyproject.toml  # Black, MyPy, Ruff config\ncat .flake8         # Flake8 config\ncat .eslintrc.json  # ESLint config\n\n# Disable specific rules\n# In pyproject.toml:\n# [tool.flake8]\n# ignore = E501,W503\n\n# Update validation schemas\nhuskycat update-schemas\n\n# Report false positives\n# File issue: https://gitlab.com/tinyland/ai/huskycat/-/issues\n```\n\n---\n\n## Git Hooks Issues\n\n### Hooks Not Running\n\n**Problem:** Git commits don't trigger validation\n\n**Solutions:**\n\n```bash\n# Check hooks are installed\nls -la .git/hooks/\n\n# Reinstall hooks\nhuskycat setup-hooks --force\n\n# Check hook permissions\nchmod +x .git/hooks/pre-commit\nchmod +x .git/hooks/pre-push\n\n# Verify hooks point to correct binary\ncat .git/hooks/pre-commit\nhead -1 .git/hooks/pre-commit  # Should show correct shebang\n\n# Check Git hooks path\ngit config core.hooksPath  # Should be empty or .git/hooks\n```\n\n### Hooks Too Slow\n\n**Problem:** Pre-commit hook takes too long\n\n**Solutions:**\n\n```bash\n# Validate only staged files (should be default)\n# Check pre-commit hook uses --staged flag\ncat .git/hooks/pre-commit | grep -- --staged\n\n# Skip hooks temporarily\nSKIP_HOOKS=1 git commit -m \"message\"\n\n# Or use git commit flag\ngit commit --no-verify -m \"message\"\n\n# Reduce validators in git hooks mode\n# Edit .huskycat/config.json to disable slow validators for hooks\n```\n\n### Hook Fails on Valid Code\n\n**Problem:** Commit blocked but code looks correct\n\n**Solutions:**\n\n```bash\n# Run validation manually to see full output\nhuskycat validate --staged\n\n# Check for tool version mismatches\nhuskycat status\n\n# Update schemas\nhuskycat update-schemas\n\n# Skip hooks if urgent (fix later)\ngit commit --no-verify -m \"urgent: [will fix validation]\"\n```\n\n---\n\n## MCP Server Issues\n\n### Claude Code Can't Connect\n\n**Problem:** HuskyCat MCP tools not available in Claude Code\n\n**Solutions:**\n\n```bash\n# Check MCP configuration\ncat ~/Library/Application\\ Support/Claude/claude_desktop_config.json\n\n# Verify binary path is correct\nwhich huskycat\n\n# Test MCP server manually\necho '{\"jsonrpc\":\"2.0\",\"method\":\"initialize\",\"params\":{},\"id\":1}' | huskycat mcp-server\n\n# Reconfigure with bootstrap\nhuskycat bootstrap --force\n\n# Check Claude Code logs\n# macOS: ~/Library/Logs/Claude/\n# Linux: ~/.config/Claude/logs/\n```\n\n### MCP Tools Timeout\n\n**Problem:** MCP validation requests time out\n\n**Solutions:**\n\n```bash\n# Check container runtime is working\npodman ps\n\n# Reduce scope of validation\n# Instead of validating whole directory, validate specific files\n\n# Increase Claude Code timeout (if configurable)\n# Edit claude_desktop_config.json to add timeout setting\n```\n\n### MCP Server Crashes\n\n**Problem:** MCP server stops responding\n\n**Solutions:**\n\n```bash\n# Check for errors in Claude Code logs\ntail -f ~/Library/Logs/Claude/mcp-server.log\n\n# Run server with debug logging\nHUSKYCAT_LOG_LEVEL=DEBUG huskycat mcp-server\n\n# Restart Claude Code completely\n# macOS: Cmd+Q then reopen\n# Linux: killall claude; claude &\n```\n\n---\n\n## CI/CD Issues\n\n### GitLab CI Job Fails\n\n**Problem:** Validation job fails in GitLab CI\n\n**Solutions:**\n\n```yaml\n# Add debug output\nvalidate:all:\n  script:\n    - huskycat --version\n    - huskycat status\n    - huskycat --verbose validate --all\n\n# Check container runtime in CI\nvalidate:all:\n  before_script:\n    - which podman || which docker\n    - podman --version || docker --version\n\n# Use correct image\nvalidate:all:\n  image: registry.gitlab.com/tinyland/ai/huskycat/validator:latest\n```\n\n### GitHub Actions Job Fails\n\n**Problem:** Workflow fails to download or run HuskyCat\n\n**Solutions:**\n\n```yaml\n# Add retry logic\n- name: Download HuskyCat\n  uses: nick-fields/retry@v2\n  with:\n    timeout_minutes: 5\n    max_attempts: 3\n    command: |\n      curl -L -o /usr/local/bin/huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-amd64\n      chmod +x /usr/local/bin/huskycat\n\n# Verify download\n- name: Verify HuskyCat\n  run: |\n    huskycat --version\n    huskycat status\n```\n\n### CI Validation Different from Local\n\n**Problem:** CI reports errors that don't appear locally\n\n**Solutions:**\n\n```bash\n# Force CI mode locally\nhuskycat --mode ci validate --all\n\n# Check tool versions\nhuskycat status  # Local\n# Compare with CI job output\n\n# Use same container as CI\npodman run --rm -v $(pwd):/workspace registry.gitlab.com/tinyland/ai/huskycat/validator:latest validate --all\n```\n\n---\n\n## Performance Issues\n\n### Slow Validation\n\n**Problem:** Validation takes too long\n\n**Solutions:**\n\n```bash\n# Identify slow validators\nhuskycat --verbose validate --all\n\n# Skip slow validators for quick checks\nhuskycat validate --skip-validator mypy --all\n\n# Use specific validators only\nhuskycat validate --validator black,ruff --all\n\n# Clean cache\nhuskycat clean\n\n# Validate changed files only\ngit diff --name-only | xargs huskycat validate\n```\n\n### High Memory Usage\n\n**Problem:** HuskyCat uses too much memory\n\n**Solutions:**\n\n```bash\n# Validate in batches\nfind src/ -name \"*.py\" | xargs -n 10 huskycat validate\n\n# Limit container memory (Podman)\npodman run --memory=2g huskycat-validator:latest\n\n# Clean up old containers\npodman system prune -a\n```\n\n---\n\n## Architecture Issues\n\n### \"exec format error\"\n\n**Problem:** Binary won't run due to architecture mismatch\n\n**Solutions:**\n\n```bash\n# Check your architecture\nuname -m\n# x86_64 \u2192 Use huskycat-linux-amd64\n# aarch64/arm64 \u2192 Use huskycat-linux-arm64 or huskycat-darwin-arm64\n\n# Download correct binary\n# For ARM64 Linux:\ncurl -L -o huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-linux-arm64\n\n# For Apple Silicon:\ncurl -L -o huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-darwin-arm64\n\n# Verify binary architecture\nfile huskycat\n```\n\n### Rosetta 2 Issues (macOS Intel Binary on Apple Silicon)\n\n**Problem:** Trying to use Intel binary on Apple Silicon\n\n**Solution:**\n\n```bash\n# Use native Apple Silicon binary\ncurl -L -o huskycat https://gitlab.com/tinyland/ai/huskycat/-/releases/permalink/latest/downloads/huskycat-darwin-arm64\nchmod +x huskycat\n```\n\n---\n\n## Configuration Issues\n\n### Config File Not Found\n\n**Problem:** HuskyCat ignores configuration\n\n**Solutions:**\n\n```bash\n# Check config location\nhuskycat status | grep -i config\n\n# Create config directory\nmkdir -p .huskycat\n\n# Create default config\ncat > .huskycat/config.json <<EOF\n{\n  \"validators\": {\n    \"python-black\": {\"enabled\": true},\n    \"mypy\": {\"enabled\": true},\n    \"flake8\": {\"enabled\": true},\n    \"ruff\": {\"enabled\": true}\n  }\n}\nEOF\n```\n\n### Tool-Specific Config Ignored\n\n**Problem:** Black/MyPy/Flake8 config not respected\n\n**Solutions:**\n\n```bash\n# HuskyCat respects standard config files\n# Ensure they're in the right location\n\n# Black: pyproject.toml\n[tool.black]\nline-length = 100\n\n# MyPy: myproject.toml or mypy.ini\n[tool.mypy]\nstrict = true\n\n# Flake8: .flake8 or setup.cfg\n[flake8]\nmax-line-length = 100\n\n# ESLint: .eslintrc.json\n{\n  \"extends\": \"eslint:recommended\"\n}\n```\n\n---\n\n## Getting Help\n\n### Debug Logging\n\nEnable verbose logging to diagnose issues:\n\n```bash\n# Level 1: Basic debug info\nhuskycat -v validate\n\n# Level 2: More detail\nhuskycat -vv validate\n\n# Level 3: Maximum verbosity\nhuskycat -vvv validate\n\n# Or use environment variable\nHUSKYCAT_LOG_LEVEL=DEBUG huskycat validate\n```\n\n### Collect System Information\n\nWhen reporting issues, include this information:\n\n```bash\n# HuskyCat version and status\nhuskycat --version\nhuskycat status\n\n# System information\nuname -a\npython --version || python3 --version\n\n# Container runtime\npodman --version || docker --version\n\n# Git version (if hooks issue)\ngit --version\n\n# Tool versions\nblack --version\nmypy --version\nflake8 --version\n```\n\n### Report Issues\n\nFile issues on GitLab:\n\n**[https://gitlab.com/tinyland/ai/huskycat/-/issues](https://gitlab.com/tinyland/ai/huskycat/-/issues)**\n\nInclude:\n1. System information (from above)\n2. Full error message\n3. Steps to reproduce\n4. Expected vs actual behavior\n5. Relevant configuration files\n\n---\n\n## Quick Reference\n\n### Common Commands\n\n```bash\n# Reset everything\nhuskycat clean --all\nhuskycat update-schemas\nhuskycat setup-hooks --force\n\n# Debug validation\nHUSKYCAT_LOG_LEVEL=DEBUG huskycat validate\n\n# Skip hooks\nSKIP_HOOKS=1 git commit -m \"message\"\ngit push --no-verify\n\n# Force mode\nhuskycat --mode ci validate --all\nhuskycat --json validate > results.json\n\n# Check status\nhuskycat status\npodman ps || docker ps\n```\n\n### Environment Variables\n\n```bash\n# Debug logging\nexport HUSKYCAT_LOG_LEVEL=DEBUG\n\n# Skip hooks\nexport SKIP_HOOKS=1\n\n# Force mode\nexport HUSKYCAT_MODE=cli\n\n# Custom config directory\nexport HUSKYCAT_CONFIG_DIR=/path/to/config\n```\n\n---\n\nFor installation help, see [Installation Guide](installation.md).\n\nFor binary issues, see [Binary Downloads](binary-downloads.md).\n\nFor CLI usage, see [CLI Reference](cli-reference.md).\n",
      "word_count": 1757
    }
  ],
  "stats": {
    "total_pages": 11,
    "total_words": 13851,
    "total_size_bytes": 115921
  }
}